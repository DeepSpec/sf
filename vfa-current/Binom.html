<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>Binom: Binomial Queues</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/vfa.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 3: Verified Functional Algorithms</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Binom<span class="subtitle">Binomial Queues</span></h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

 Implementation and correctness proof of fast mergeable priority queues
   using binomial queues.

<div class="paragraph"> </div>

  Operation <span class="inlinecode"><span class="id" title="var">empty</span></span> is constant time,  <span class="inlinecode"><span class="id" title="var">insert</span></span>, <span class="inlinecode"><span class="id" title="var">delete_max</span></span>, and <span class="inlinecode"><span class="id" title="var">merge</span></span>
  are logN time.  (Well, except that comparisons on <span class="inlinecode"><span class="id" title="var">nat</span></span> take linear time.
  Read the <a href="Extract.html"><span class="inlineref">Extract</span></a> chapter to see what can be done about that.) 
<div class="paragraph"> </div>

<a name="lab155"></a><h1 class="section">Required Reading</h1>

<div class="paragraph"> </div>

  Binomial Queues <a href="https://www.cs.princeton.edu/~appel/Binom.pdf"><span class="inlineref">https://www.cs.princeton.edu/~appel/Binom.pdf</span></a>
  by Andrew W. Appel, 2016.

<div class="paragraph"> </div>

  Binomial Queues <a href="https://www.cs.princeton.edu/~appel/BQ.pdf"><span class="inlineref">https://www.cs.princeton.edu/~appel/BQ.pdf</span></a>
  Section 9.7 of <i>Algorithms 3rd Edition in Java, Parts 1-4:
    Fundamentals, Data Structures, Sorting, and Searching</i>,
  by Robert Sedgewick.  Addison-Wesley, 2002.

<div class="paragraph"> </div>

<a name="lab156"></a><h1 class="section">The Program</h1>

</div>
<div class="code">

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#"><span class="id" title="library">Strings.String</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">VFA</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Perm.html#"><span class="id" title="library">Perm</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">VFA</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Priqueue.html#"><span class="id" title="library">Priqueue</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Module</span> <a name="BinomQueue"><span class="id" title="module">BinomQueue</span></a> &lt;: <a class="idref" href="Priqueue.html#PRIQUEUE"><span class="id" title="module">PRIQUEUE</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.key"><span class="id" title="definition">key</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a name="BinomQueue.tree"><span class="id" title="inductive">tree</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
|  <a name="BinomQueue.Node"><span class="id" title="constructor">Node</span></a>: <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#tree"><span class="id" title="inductive">tree</span></a><br/>
|  <a name="BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> : <a class="idref" href="Binom.html#tree"><span class="id" title="inductive">tree</span></a>.<br/>
</div>

<div class="doc">
A priority queue (using the binomial queues data structure) is a
   list of trees.  The <span class="inlinecode"><span class="id" title="var">i</span></span>'th element of the list is either <span class="inlinecode"><span class="id" title="var">Leaf</span></span> or
   it is a power-of-2-heap with exactly <span class="inlinecode">2^<span class="id" title="var">i</span></span> nodes.

<div class="paragraph"> </div>

  This program will make sense to you if you've read the Sedgewick
  reading; otherwise it is rather mysterious.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.empty"><span class="id" title="definition">empty</span></a> : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.smash"><span class="id" title="definition">smash</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">u</span>:  <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) : <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> , <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|  <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>, <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">y</span> <span class="id" title="var">u<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span>  <span class="id" title="var">x</span> <a class="idref" href="Perm.html#c2645d37213138849baf667a31d0e9e<sub>1</sub>"><span class="id" title="notation">&gt;?</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">y</span> <span class="id" title="var">u<sub>1</sub></span> <span class="id" title="var">t<sub>1</sub></span>) <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">y</span> (<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">u<sub>1</sub></span>) <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> , <span class="id" title="var">_</span> ⇒ <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>  <span class="comment">(*&nbsp;arbitrary&nbsp;bogus&nbsp;tree&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.carry"><span class="id" title="definition">carry</span></a> (<span class="id" title="var">q</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) (<span class="id" title="var">t</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>, <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>        ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>, <span class="id" title="var">_</span>            ⇒ <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span>, <span class="id" title="var">_</span>  ⇒ <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>  ⇒ <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span>, <span class="id" title="var">_</span>       ⇒ <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#carry"><span class="id" title="definition">carry</span></a> <span class="id" title="var">q'</span> (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="var">u</span>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.insert"><span class="id" title="definition">insert</span></a> (<span class="id" title="var">x</span>: <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>) (<span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.carry"><span class="id" title="definition">carry</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> (<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Binom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span> ⇒<a class="idref" href="Binom.html#BinomQueue.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">[</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>4<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>5<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>9<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">;</span></a>5<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e<sub>15</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Binom.html#BinomQueue.empty"><span class="id" title="definition">empty</span></a>.<br/>
</div>

<div class="doc">
<pre>
    = [Node 5 Leaf Leaf;
       Leaf;
       Leaf;
       Node 9
          (Node 4 (Node 3 (Node 1 Leaf Leaf) (Node 1 Leaf Leaf))
             (Node 3 (Node 2 Leaf Leaf) (Node 5 Leaf Leaf)))
          Leaf]
     : priqueue
</pre>
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">p</span> <span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) (<span class="id" title="var">c</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a>, <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>, <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">_</span> , <span class="id" title="var">_</span>            ⇒ <a class="idref" href="Binom.html#BinomQueue.carry"><span class="id" title="definition">carry</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">_</span>             ⇒ <a class="idref" href="Binom.html#BinomQueue.carry"><span class="id" title="definition">carry</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>, <span class="id" title="var">_</span>              ⇒ <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <span class="id" title="var">q<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>            ⇒ <span class="id" title="var">q<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <span class="id" title="var">q<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>, <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  ⇒ <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="var">q<sub>1</sub></span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">p<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>            ⇒ <span class="id" title="var">p<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">p<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>,<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>   ⇒ <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="var">p<sub>1</sub></span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">p<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span>, <span class="id" title="var">q<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span>, <span class="id" title="var">_</span>                   ⇒ <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#join"><span class="id" title="definition">join</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">q'</span> (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <span class="id" title="var">p<sub>1</sub></span> <span class="id" title="var">q<sub>1</sub></span>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.unzip"><span class="id" title="definition">unzip</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) (<span class="id" title="var">cont</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|  <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span>   ⇒ <a class="idref" href="Binom.html#unzip"><span class="id" title="definition">unzip</span></a> <span class="id" title="var">t<sub>2</sub></span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">q</span> ⇒ <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <a class="idref" href="Binom.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Binom.html#cont"><span class="id" title="variable">cont</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.heap_delete_max"><span class="id" title="definition">heap_delete_max</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>  ⇒ <a class="idref" href="Binom.html#BinomQueue.unzip"><span class="id" title="definition">unzip</span></a> <span class="id" title="var">t<sub>1</sub></span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">u</span> ⇒ <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>   <span class="comment">(*&nbsp;bogus&nbsp;value&nbsp;for&nbsp;ill-formed&nbsp;or&nbsp;empty&nbsp;trees&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.find_max'"><span class="id" title="definition">find_max'</span></a> (<span class="id" title="var">current</span>: <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>) (<span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|  <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a>         ⇒ <a class="idref" href="Binom.html#current"><span class="id" title="variable">current</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span> ⇒ <a class="idref" href="Binom.html#find_max'"><span class="id" title="definition">find_max'</span></a> <a class="idref" href="Binom.html#current"><span class="id" title="variable">current</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="Binom.html#find_max'"><span class="id" title="definition">find_max'</span></a> (<span class="id" title="keyword">if</span> <span class="id" title="var">x</span> <a class="idref" href="Perm.html#c2645d37213138849baf667a31d0e9e<sub>1</sub>"><span class="id" title="notation">&gt;?</span></a> <a class="idref" href="Binom.html#current"><span class="id" title="variable">current</span></a> <span class="id" title="keyword">then</span> <span class="id" title="var">x</span> <span class="id" title="keyword">else</span> <a class="idref" href="Binom.html#current"><span class="id" title="variable">current</span></a>) <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.find_max"><span class="id" title="definition">find_max</span></a> (<span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">q'</span> ⇒ <a class="idref" href="Binom.html#find_max"><span class="id" title="definition">find_max</span></a> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">q'</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Binom.html#BinomQueue.find_max'"><span class="id" title="definition">find_max'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">q'</span>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.delete_max_aux"><span class="id" title="definition">delete_max_aux</span></a> (<span class="id" title="var">m</span>: <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>) (<span class="id" title="var">p</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b<sub>5</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">p'</span>   ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">j</span>,<span class="id" title="var">k</span>) := <a class="idref" href="Binom.html#delete_max_aux"><span class="id" title="definition">delete_max_aux</span></a> <a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="var">p'</span>  <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><a class="idref" href="Binom.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">p'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Perm.html#c2645d37213138849baf667a31d0e9e<sub>1</sub>"><span class="id" title="notation">&gt;?</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> (<span class="id" title="keyword">let</span> (<span class="id" title="var">j</span>,<span class="id" title="var">k</span>) := <a class="idref" href="Binom.html#delete_max_aux"><span class="id" title="definition">delete_max_aux</span></a> <a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="var">p'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><a class="idref" href="Binom.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><span class="id" title="var">p'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="Binom.html#BinomQueue.heap_delete_max"><span class="id" title="definition">heap_delete_max</span></a> (<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">x</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>)<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a> <span class="comment">(*&nbsp;Bogus&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.delete_max"><span class="id" title="definition">delete_max</span></a> (<span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b<sub>5</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#BinomQueue.find_max"><span class="id" title="definition">find_max</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>  <span class="id" title="var">m</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p'</span>,<span class="id" title="var">q'</span>) := <a class="idref" href="Binom.html#BinomQueue.delete_max_aux"><span class="id" title="definition">delete_max_aux</span></a> <span class="id" title="var">m</span> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="Binom.html#BinomQueue.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Binom.html#p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="Binom.html#q'"><span class="id" title="variable">q'</span></a> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.merge"><span class="id" title="definition">merge</span></a> (<span class="id" title="var">p</span> <span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) := <a class="idref" href="Binom.html#BinomQueue.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>.<br/>
</div>

<div class="doc">
<a name="lab157"></a><h1 class="section">Characterization Predicates</h1>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">t</span></span> is a complete binary tree of depth <span class="inlinecode"><span class="id" title="var">n</span></span>, with every key &lt;= <span class="inlinecode"><span class="id" title="var">m</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.pow2heap'"><span class="id" title="definition">pow2heap'</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">m</span>: <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>) (<span class="id" title="var">t</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a>, <a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a>, <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;0, <span class="id" title="var">m</span>, <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>       ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| 0, <span class="id" title="var">m</span>, <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>, <span class="id" title="var">m</span>,<a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a>    ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>, <span class="id" title="var">m</span>, <a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#08fe8636f4b45ae6787c490d19de1366"><span class="id" title="notation">≥</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Binom.html#pow2heap'"><span class="id" title="definition">pow2heap'</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">k</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Binom.html#pow2heap'"><span class="id" title="definition">pow2heap'</span></a> <span class="id" title="var">n'</span> <a class="idref" href="Binom.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="var">r</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">t</span></span> is a power-of-2 heap of depth <span class="inlinecode"><span class="id" title="var">n</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">m</span> <span class="id" title="var">t<sub>1</sub></span> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="Binom.html#BinomQueue.pow2heap'"><span class="id" title="definition">pow2heap'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">m</span> <span class="id" title="var">t<sub>1</sub></span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">l</span></span> is the <span class="inlinecode"><span class="id" title="var">i</span></span>th tail of a binomial heap 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="BinomQueue.priq'"><span class="id" title="definition">priq'</span></a>  (<span class="id" title="var">i</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Binom.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e<sub>60</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Binom.html#priq'"><span class="id" title="definition">priq'</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Binom.html#i"><span class="id" title="variable">i</span></a>) <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">q</span></span> is a binomial heap 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.priq"><span class="id" title="definition">priq</span></a> (<span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> 0 <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>.<br/>
</div>

<div class="doc">
<a name="lab158"></a><h1 class="section">Proof of Algorithm Correctness</h1>

<div class="paragraph"> </div>

<a name="lab159"></a><h2 class="section">Various Functions Preserve the Representation Invariant</h2>

<div class="paragraph"> </div>

 ...that is, the <span class="inlinecode"><span class="id" title="var">priq</span></span> property, or the closely related property <span class="inlinecode"><span class="id" title="var">pow2heap</span></span>.

<div class="paragraph"> </div>

<a name="lab160"></a><h4 class="section">Exercise: 1 star, standard (empty_priq)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.empty_priq"><span class="id" title="lemma">empty_priq</span></a>: <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#BinomQueue.empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab161"></a><h4 class="section">Exercise: 2 stars, standard (smash_valid)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.smash_valid"><span class="id" title="lemma">smash_valid</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>, <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab162"></a><h4 class="section">Exercise: 3 stars, standard (carry_valid)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.carry_valid"><span class="id" title="lemma">carry_valid</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">q</span>,  <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e<sub>60</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Binom.html#BinomQueue.carry"><span class="id" title="definition">carry</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab163"></a><h4 class="section">Exercise: 2 stars, standard, optional (insert_valid)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.insert_priq"><span class="id" title="lemma">insert_priq</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> (<a class="idref" href="Binom.html#BinomQueue.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Binom.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab164"></a><h4 class="section">Exercise: 3 stars, standard, optional (join_valid)</h4>

</div>
<div class="code">
<span class="comment">(*&nbsp;This&nbsp;proof&nbsp;is&nbsp;rather&nbsp;long,&nbsp;but&nbsp;each&nbsp;step&nbsp;is&nbsp;reasonably&nbsp;straightforward.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;There's&nbsp;just&nbsp;one&nbsp;<span class="inlinecode"><span class="id" title="tactic">induction</span></span>&nbsp;to&nbsp;do,&nbsp;right&nbsp;at&nbsp;the&nbsp;beginning.&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.join_valid"><span class="id" title="lemma">join_valid</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">c</span> <span class="id" title="var">n</span>, <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e<sub>60</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Binom.html#BinomQueue.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.merge_priq"><span class="id" title="lemma">merge_priq</span></a>:  <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> (<a class="idref" href="Binom.html#BinomQueue.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Binom.html#BinomQueue.merge"><span class="id" title="definition">merge</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Binom.html#BinomQueue.join_valid"><span class="id" title="axiom">join_valid</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab165"></a><h4 class="section">Exercise: 5 stars, standard, optional (delete_max_Some_priq)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.delete_max_Some_priq"><span class="id" title="lemma">delete_max_Some_priq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">k</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab166"></a><h2 class="section">The Abstraction Relation</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">tree_elems</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span>    means that the keys in t are the same as the
   elements of l (with repetition) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a>: <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="BinomQueue.tree_elems_leaf"><span class="id" title="constructor">tree_elems_leaf</span></a>: <a class="idref" href="Binom.html#tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
| <a name="BinomQueue.tree_elems_node"><span class="id" title="constructor">tree_elems_node</span></a>:  <span class="id" title="keyword">∀</span> <span class="id" title="var">bl</span> <span class="id" title="var">br</span> <span class="id" title="var">v</span> <span class="id" title="var">tl</span> <span class="id" title="var">tr</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="Binom.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="Binom.html#br"><span class="id" title="variable">br</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="Binom.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><a class="idref" href="Binom.html#bl"><span class="id" title="variable">bl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Binom.html#br"><span class="id" title="variable">br</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#tree_elems"><span class="id" title="inductive">tree_elems</span></a> (<a class="idref" href="Binom.html#BinomQueue.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="Binom.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Binom.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="Binom.html#tr"><span class="id" title="variable">tr</span></a>) <a class="idref" href="Binom.html#b"><span class="id" title="variable">b</span></a>.<br/>
</div>

<div class="doc">
<a name="lab167"></a><h4 class="section">Exercise: 3 stars, standard (priqueue_elems)</h4>
 Make an inductive definition, similar to <span class="inlinecode"><span class="id" title="var">tree_elems</span></span>, to relate
  a priority queue  "l"  to a list of all its elements.

<div class="paragraph"> </div>

  As you can see in the definition of <span class="inlinecode"><span class="id" title="var">tree_elems</span></span>,  a <span class="inlinecode"><span class="id" title="var">tree</span></span> relates to
  <i>any</i> permutation of its keys, not just a single permutation.
  You should make your <span class="inlinecode"><span class="id" title="var">priqueue_elems</span></span> relation behave similarly,
  using (basically) the same technique as in <span class="inlinecode"><span class="id" title="var">tree_elems</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
.<br/>
<span class="comment">(*&nbsp;Do&nbsp;not&nbsp;modify&nbsp;the&nbsp;following&nbsp;line:&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.manual_grade_for_priqueue_elems"><span class="id" title="definition">manual_grade_for_priqueue_elems</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b<sub>5</sub>"><span class="id" title="notation">×</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> (<span class="id" title="var">p</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) (<span class="id" title="var">al</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>) := <a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a>.<br/>
</div>

<div class="doc">
<a name="lab168"></a><h2 class="section">Sanity Checks on the Abstraction Relation</h2>

<div class="paragraph"> </div>

<a name="lab169"></a><h4 class="section">Exercise: 2 stars, standard (tree_elems_ext)</h4>
 Extensionality theorem for the tree_elems relation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.tree_elems_ext"><span class="id" title="lemma">tree_elems_ext</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">t</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab170"></a><h4 class="section">Exercise: 2 stars, standard (tree_perm)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.tree_perm"><span class="id" title="lemma">tree_perm</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">t</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab171"></a><h4 class="section">Exercise: 2 stars, standard (priqueue_elems_ext)</h4>
 To prove <span class="inlinecode"><span class="id" title="var">priqueue_elems_ext</span></span>, you should almost be able to cut-and-paste the
   proof of <span class="inlinecode"><span class="id" title="var">tree_elems_ext</span></span>, with just a few edits.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.priqueue_elems_ext"><span class="id" title="lemma">priqueue_elems_ext</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">q</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#e<sub>1</sub>"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#e<sub>2</sub>"><span class="id" title="variable">e<sub>2</sub></span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab172"></a><h4 class="section">Exercise: 2 stars, standard (abs_perm)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.abs_perm"><span class="id" title="lemma">abs_perm</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">al</span> <span class="id" title="var">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a> <a class="idref" href="Binom.html#bl"><span class="id" title="variable">bl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab173"></a><h4 class="section">Exercise: 2 stars, standard (can_relate)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="BinomQueue.tree_can_relate"><span class="id" title="lemma">tree_can_relate</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d<sub>8</sub>"><span class="id" title="notation">∃</span></a> <span class="id" title="var">al</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d<sub>8</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.can_relate"><span class="id" title="lemma">can_relate</span></a>:  <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d<sub>8</sub>"><span class="id" title="notation">∃</span></a> <span class="id" title="var">al</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d<sub>8</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab174"></a><h2 class="section">Various Functions Preserve the Abstraction Relation</h2>
<a name="lab175"></a><h4 class="section">Exercise: 1 star, standard (empty_relate)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.empty_relate"><span class="id" title="lemma">empty_relate</span></a>:  <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#BinomQueue.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab176"></a><h4 class="section">Exercise: 3 stars, standard (smash_elems)</h4>
  Warning:  This proof is rather long. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.smash_elems"><span class="id" title="lemma">smash_elems</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">bt</span> <span class="id" title="var">bu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#bt"><span class="id" title="variable">bt</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Binom.html#bu"><span class="id" title="variable">bu</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> (<a class="idref" href="Binom.html#BinomQueue.smash"><span class="id" title="definition">smash</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#u"><span class="id" title="variable">u</span></a>) (<a class="idref" href="Binom.html#bt"><span class="id" title="variable">bt</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="Binom.html#bu"><span class="id" title="variable">bu</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab177"></a><h2 class="section">Optional Exercises</h2>

<div class="paragraph"> </div>

  Some of these proofs are quite long, but they're not especially tricky. 
<div class="paragraph"> </div>

<a name="lab178"></a><h4 class="section">Exercise: 4 stars, standard, optional (carry_elems)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.carry_elems"><span class="id" title="lemma">carry_elems</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">q</span>,  <a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e<sub>60</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">eq</span> <span class="id" title="var">et</span>, <a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#eq"><span class="id" title="variable">eq</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Binom.html#et"><span class="id" title="variable">et</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> (<a class="idref" href="Binom.html#BinomQueue.carry"><span class="id" title="definition">carry</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Binom.html#eq"><span class="id" title="variable">eq</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Binom.html#et"><span class="id" title="variable">et</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab179"></a><h4 class="section">Exercise: 2 stars, standard, optional (insert_elems)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.insert_relate"><span class="id" title="lemma">insert_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">al</span> <span class="id" title="var">k</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> (<a class="idref" href="Binom.html#BinomQueue.insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a>) (<a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab180"></a><h4 class="section">Exercise: 4 stars, standard, optional (join_elems)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.join_elems"><span class="id" title="lemma">join_elems</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">c</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priq'"><span class="id" title="definition">priq'</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><a class="idref" href="Binom.html#BinomQueue.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e<sub>60</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="Binom.html#BinomQueue.pow2heap"><span class="id" title="definition">pow2heap</span></a> <a class="idref" href="Binom.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">pe</span> <span class="id" title="var">qe</span> <span class="id" title="var">ce</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#pe"><span class="id" title="variable">pe</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#qe"><span class="id" title="variable">qe</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.tree_elems"><span class="id" title="inductive">tree_elems</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Binom.html#ce"><span class="id" title="variable">ce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priqueue_elems"><span class="id" title="inductive">priqueue_elems</span></a> (<a class="idref" href="Binom.html#BinomQueue.join"><span class="id" title="definition">join</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#c"><span class="id" title="variable">c</span></a>) (<a class="idref" href="Binom.html#ce"><span class="id" title="variable">ce</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Binom.html#pe"><span class="id" title="variable">pe</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Binom.html#qe"><span class="id" title="variable">qe</span></a>).<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab181"></a><h4 class="section">Exercise: 2 stars, standard, optional (merge_relate)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.merge_relate"><span class="id" title="lemma">merge_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">pl</span> <span class="id" title="var">ql</span> <span class="id" title="var">al</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#pl"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#ql"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> (<a class="idref" href="Binom.html#BinomQueue.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a>) <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#al"><span class="id" title="variable">al</span></a> (<a class="idref" href="Binom.html#pl"><span class="id" title="variable">pl</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e<sub>36</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="Binom.html#ql"><span class="id" title="variable">ql</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab182"></a><h4 class="section">Exercise: 5 stars, standard, optional (delete_max_None_relate)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.delete_max_None_relate"><span class="id" title="lemma">delete_max_None_relate</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span>, <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Binom.html#BinomQueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a name="lab183"></a><h4 class="section">Exercise: 5 stars, standard, optional (delete_max_Some_relate)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="BinomQueue.delete_max_Some_relate"><span class="id" title="lemma">delete_max_Some_relate</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span> <span class="id" title="var">q</span>: <a class="idref" href="Binom.html#BinomQueue.priqueue"><span class="id" title="definition">priqueue</span></a>) <span class="id" title="var">k</span> (<span class="id" title="var">pl</span> <span class="id" title="var">ql</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Binom.html#BinomQueue.key"><span class="id" title="definition">key</span></a>), <a class="idref" href="Binom.html#BinomQueue.priq"><span class="id" title="definition">priq</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Binom.html#pl"><span class="id" title="variable">pl</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.delete_max"><span class="id" title="definition">delete_max</span></a> <a class="idref" href="Binom.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c<sub>0</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Binom.html#BinomQueue.Abs"><span class="id" title="definition">Abs</span></a> <a class="idref" href="Binom.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Binom.html#ql"><span class="id" title="variable">ql</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Binom.html#pl"><span class="id" title="variable">pl</span></a> (<a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed<sub>5</sub>"><span class="id" title="notation">::</span></a><a class="idref" href="Binom.html#ql"><span class="id" title="variable">ql</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#ge"><span class="id" title="definition">ge</span></a> <a class="idref" href="Binom.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Binom.html#ql"><span class="id" title="variable">ql</span></a>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 With the following line, we're done!  We have demonstrated that
  Binomial Queues are a correct implementation of mergeable
  priority queues.  That is, we have exhibited a <span class="inlinecode"><span class="id" title="keyword">Module</span></span> <span class="inlinecode"><span class="id" title="var">BinomQueue</span></span>
  that satisfies the <span class="inlinecode"><span class="id" title="keyword">Module</span></span> <span class="inlinecode"><span class="id" title="keyword">Type</span></span> <span class="inlinecode"><span class="id" title="var">PRIQUEUE</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Binom.html#BinomQueue"><span class="id" title="module">BinomQueue</span></a>.<br/>
</div>

<div class="doc">
<a name="lab184"></a><h1 class="section">Measurement.</h1>

<div class="paragraph"> </div>

<a name="lab185"></a><h4 class="section">Exercise: 5 stars, standard, optional (binom_measurement)</h4>
 Adapt the program (but not necessarily the proof) to use Ocaml integers
  as keys, in the style shown in <a href="Extract.html"><span class="inlineref">Extract</span></a>.   Write an ML program to
  exercise it with random inputs.  Compare the runtime to the implementation
  from <a href="Priqueue.html"><span class="inlineref">Priqueue</span></a>, also adapted for Ocaml integers.
 <font size=-2>&#9744;</font> 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;2020-05-28&nbsp;12:49:03&nbsp;(UTC+00)&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>