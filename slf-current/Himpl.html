<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>Himpl: Heap Entailment</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/slf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 6: Separation Logic Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Himpl<span class="subtitle">Heap Entailment</span></h1>


<div class="code">

<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SLF</span> <span class="id" title="keyword">Require</span> <a class="idref" href="LibSepReference.html#"><span class="id" title="library">LibSepReference</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SLF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Hprop.html#"><span class="id" title="library">Hprop</span></a>.<br/>
</div>

<div class="doc">
<a id="lab120"></a><h1 class="section">First Pass</h1>

<div class="paragraph"> </div>

 In the previous chapter, we introduced the type <span class="inlinecode"><span class="id" title="var">hprop</span></span> and the key
    operators over this type: <span class="inlinecode"><span class='gray-font'>\</span>[]</span>, <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span>, <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v</span></span>, <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*+</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>,
    and <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">H</span></span>.

<div class="paragraph"> </div>

    In order to state the reasoning rules of Separation Logic, we need to
    introduce the "entailment relation" on heap predicates. This relation,
    written <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, asserts that any heap that satisfies <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> also
    satisfies <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. We also need to extend the entailment relation to
    postconditions. We write <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> to asserts that, for any result value
    <span class="inlinecode"><span class="id" title="var">v</span></span>, the entailment <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> holds.

<div class="paragraph"> </div>

    Both entailment relations <span class="inlinecode">==&gt;</span> and <span class="inlinecode">===&gt;</span> appear in the statement of the
    "consequence-frame rule", exploited by the tactic <span class="inlinecode"><span class="id" title="var">xapp</span></span> for reasoning about
    every function call. This rule explains how to derive a triple of the form
    <span class="inlinecode"><span class="id" title="var">triple</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>, knowing that the term <span class="inlinecode"><span class="id" title="var">t</span></span> admits the specification
    <span class="inlinecode"><span class="id" title="var">triple</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span>. There are two requirements: First, the precondition <span class="inlinecode"><span class="id" title="var">H</span></span>
    must decompose into <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span>, which denotes the precondition expected by the
    specification, and some remaining part, <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. Second, the targeted
    postcondition <span class="inlinecode"><span class="id" title="var">Q</span></span> must be a consequence of the conjunction of <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span>, which
    denotes the postcondition asserted by the specification, and <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, which
    again denotes the remaining part, which should not have been affected during
    the evaluation of the term <span class="inlinecode"><span class="id" title="var">t</span></span>.

<div class="paragraph"> </div>

    The formal statement of the frame rule is as follows.
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">triple_conseq_frame</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">H<sub>2</sub></span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">Q<sub>1</sub></span> <span class="id" title="var">t</span> <span class="id" title="var">H</span> <span class="id" title="var">Q</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">triple</span> <span class="id" title="var">t</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">Q<sub>1</sub></span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> ==&gt; (<span class="id" title="var">H<sub>1</sub></span> <span class='gray-font'>\</span>* <span class="id" title="var">H<sub>2</sub></span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Q<sub>1</sub></span> <span class='gray-font'>\</span>*+ <span class="id" title="var">H<sub>2</sub></span>) ===&gt; <span class="id" title="var">Q</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">triple</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span> <span class="id" title="var">Q</span>.
</span>    This chapter presents:

<div class="paragraph"> </div>

<ul class="doclist">
<li> the formal definition of the entailment relations for heap predicates
      and for postconditions,

</li>
<li> the lemmas capturing the interaction of entailment with the star operator,
      and

</li>
<li> the features of the tactics <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> and <span class="inlinecode"><span class="id" title="var">xchange</span></span>, which are critically
      useful for manipulating entailments in practice.

</li>
</ul>

<div class="paragraph"> </div>

    The tactics <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> and <span class="inlinecode"><span class="id" title="var">xchange</span></span> were already used in the first two
    chapters. The implementation of these tactics (from <span class="inlinecode"><span class="id" title="var">LibSepSimpl.v</span></span>) is out
    of scope for the present course, but in this chapter we explore their
    features in more depth through examples.

<div class="paragraph"> </div>

    This chapter exploits one additional TLC tactic for improving scripts:
    <span class="inlinecode"><span class="id" title="var">applys</span></span> is an enhanced version of <span class="inlinecode"><span class="id" title="tactic">eapply</span></span>. This tactic takes as argument a
    lemma or hypothesis, plus (optionally) a variable number of arguments, which
    are fed to the lemma on a first-match basis. In other words, <span class="inlinecode"><span class="id" title="var">applys</span></span> <span class="inlinecode"><span class="id" title="var">L</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span>
    is equivalent to <span class="inlinecode"><span class="id" title="tactic">eapply</span></span> <span class="inlinecode">(<span class="id" title="var">L</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">..)</span> for an
    appropriate number of underscore symbols. 
</div>

<div class="doc">
<a id="lab121"></a><h2 class="section">Definition of Entailment</h2>

<div class="paragraph"> </div>

 The <i>entailment relationship</i> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> asserts that any heap <span class="inlinecode"><span class="id" title="var">h</span></span> that
    satisfies the heap predicate <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> also satisfies <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="himpl" class="idref" href="#himpl"><span class="id" title="definition">himpl</span></a> (<a id="H<sub>1</sub>:1" class="idref" href="#H<sub>1</sub>:1"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:2" class="idref" href="#H<sub>2</sub>:2"><span class="id" title="binder">H<sub>2</sub></span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="h:3" class="idref" href="#h:3"><span class="id" title="binder">h</span></a>:<a class="idref" href="Hprop.html#heap"><span class="id" title="definition">heap</span></a>), <a class="idref" href="Himpl.html#H<sub>1</sub>:1"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#h:3"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:2"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#h:3"><span class="id" title="variable">h</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="7cf9375cc810cd6cb65186f6ede01686" class="idref" href="#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">&quot;</span></a>H<sub>1</sub> ==&gt; H<sub>2</sub>" := (<a class="idref" href="Himpl.html#himpl"><span class="id" title="definition">himpl</span></a> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>2</sub></span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55).<br/>
</div>

<div class="doc">
Entailment is reflexive, transitive, and antisymmetric. It thus forms an
    order relation on heap predicates. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_refl" class="idref" href="#himpl_refl"><span class="id" title="lemma">himpl_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">H</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:4"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:4"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="himpl_trans" class="idref" href="#himpl_trans"><span class="id" title="lemma">himpl_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:5" class="idref" href="#H<sub>2</sub>:5"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:6" class="idref" href="#H<sub>1</sub>:6"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>3</sub>:7" class="idref" href="#H<sub>3</sub>:7"><span class="id" title="binder">H<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:6"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:5"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>2</sub>:5"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:7"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:6"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:7"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">H1h</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab122"></a><h4 class="section">Exercise: 1 star, standard, optional (himpl_antisym)</h4>
 Prove the antisymmetry of entailment result shown below. Hint: use
    <span class="inlinecode"><span class="id" title="var">predicate_extensionality</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_antisym" class="idref" href="#himpl_antisym"><span class="id" title="lemma">himpl_antisym</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:8" class="idref" href="#H<sub>1</sub>:8"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:9" class="idref" href="#H<sub>2</sub>:9"><span class="id" title="binder">H<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab123"></a><h2 class="section">Entailment for Postconditions</h2>

<div class="paragraph"> </div>

 The entailment relation on postconditions, written <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span>, asserts
    that the heap predicate <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> entails <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> for any value <span class="inlinecode"><span class="id" title="var">v</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="qimpl" class="idref" href="#qimpl"><span class="id" title="definition">qimpl</span></a> (<a id="Q<sub>1</sub>:10" class="idref" href="#Q<sub>1</sub>:10"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:11" class="idref" href="#Q<sub>2</sub>:11"><span class="id" title="binder">Q<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="v:12" class="idref" href="#v:12"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="Himpl.html#Q<sub>1</sub>:10"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#v:12"><span class="id" title="variable">v</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:11"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#v:12"><span class="id" title="variable">v</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>" class="idref" href="#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">&quot;</span></a>Q<sub>1</sub> ===&gt; Q<sub>2</sub>" := (<a class="idref" href="Himpl.html#qimpl"><span class="id" title="definition">qimpl</span></a> <span class="id" title="var">Q<sub>1</sub></span> <span class="id" title="var">Q<sub>2</sub></span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55).<br/>
</div>

<div class="doc">
In other words, <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> holds if and only if, for any value <span class="inlinecode"><span class="id" title="var">v</span></span> and any
    heap <span class="inlinecode"><span class="id" title="var">h</span></span>, the proposition <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">h</span></span> implies <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">h</span></span>. 
<div class="paragraph"> </div>

 Entailment on postconditions also forms an order relation: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="qimpl_refl" class="idref" href="#qimpl_refl"><span class="id" title="lemma">qimpl_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="Q:13" class="idref" href="#Q:13"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#Q:13"><span class="id" title="variable">Q</span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q:13"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Q</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Himpl.html#himpl_refl"><span class="id" title="lemma">himpl_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="qimpl_trans" class="idref" href="#qimpl_trans"><span class="id" title="lemma">qimpl_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="Q<sub>2</sub>:14" class="idref" href="#Q<sub>2</sub>:14"><span class="id" title="binder">Q<sub>2</sub></span></a> <a id="Q<sub>1</sub>:15" class="idref" href="#Q<sub>1</sub>:15"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>3</sub>:16" class="idref" href="#Q<sub>3</sub>:16"><span class="id" title="binder">Q<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:15"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:14"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>2</sub>:14"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>3</sub>:16"><span class="id" title="variable">Q<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:15"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>3</sub>:16"><span class="id" title="variable">Q<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Himpl.html#himpl_trans"><span class="id" title="lemma">himpl_trans</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab124"></a><h4 class="section">Exercise: 1 star, standard, optional (qimpl_antisym)</h4>
 Prove the antisymmetry of entailment on postconditions. Hint: exploit
    <span class="inlinecode"><span class="id" title="var">functional_extensionality</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="qimpl_antisym" class="idref" href="#qimpl_antisym"><span class="id" title="lemma">qimpl_antisym</span></a> : <span class="id" title="keyword">∀</span> <a id="Q<sub>1</sub>:17" class="idref" href="#Q<sub>1</sub>:17"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:18" class="idref" href="#Q<sub>2</sub>:18"><span class="id" title="binder">Q<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab125"></a><h2 class="section">Frame Rule for Entailment</h2>

<div class="paragraph"> </div>

 A fundamental property is that the star operator is <i>monotone</i> with respect
    to entailment, meaning that if <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> then
    <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span>. In other words, an arbitrary heap predicate
    <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> can be "framed" on both sides of an entailment.

<div class="paragraph"> </div>

    Viewed the other way around, if we have to prove the entailment relation
    <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span>, we can "cancel out" <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> on both sides. In
    this view, the monotonicity property is a sort of frame rule for the
    entailment relation.

<div class="paragraph"> </div>

    Due to commutativity of star, it suffices to state only the left version of
    the monotonicity property. 
</div>
<div class="code">

<span class="id" title="keyword">Parameter</span> <a id="himpl_frame_l" class="idref" href="#himpl_frame_l"><span class="id" title="axiom">himpl_frame_l</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:19" class="idref" href="#H<sub>2</sub>:19"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:20" class="idref" href="#H<sub>1</sub>:20"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':21" class="idref" href="#H<sub>1</sub>':21"><span class="id" title="binder">H<sub>1</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:20"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':21"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:20"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:19"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':21"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:19"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
</div>

<div class="doc">
<a id="lab126"></a><h2 class="section">Rules for Proving Entailments</h2>

<div class="paragraph"> </div>

 The rules for introducing and eliminating pure facts and existential
    quantifiers in entailments are essential. They are presented next. 
<div class="paragraph"> </div>

 The first rule is captured by the lemma <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span>. Consider an
    entailment of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H'</span>)</span>. To establish this entailment,
    we must prove that <span class="inlinecode"><span class="id" title="var">P</span></span> is true and that <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">H'</span></span>. 
<div class="paragraph"> </div>

<a id="lab127"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hstar_hpure_r).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span>.

<div class="paragraph"> </div>

    Hint: recall from <span class="inlinecode"><span class="id" title="var">Hprop</span></span> the lemma <span class="inlinecode"><span class="id" title="var">hstar_hpure_l</span></span>, which asserts the
    equality <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span>)</span> <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">P</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">h</span>)</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hstar_hpure_r" class="idref" href="#himpl_hstar_hpure_r"><span class="id" title="lemma">himpl_hstar_hpure_r</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:23" class="idref" href="#P:23"><span class="id" title="binder">P</span></a>:<span class="id" title="keyword">Prop</span>) <a id="H:24" class="idref" href="#H:24"><span class="id" title="binder">H</span></a> <a id="H':25" class="idref" href="#H':25"><span class="id" title="binder">H'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H:24"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':25"><span class="id" title="variable">H'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:24"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#P:23"><span class="id" title="variable">P</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H':25"><span class="id" title="variable">H'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Reciprocally, consider an entailment of the form <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. To
    establish this entailment, we must prove that <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">H'</span></span> under the
    assumption that <span class="inlinecode"><span class="id" title="var">P</span></span> is true. The "extraction rule for pure facts in the left
    of an entailment" captures the property that the pure fact <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> can be
    extracted into the Coq context. It is stated as follows. 
<div class="paragraph"> </div>

<a id="lab128"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hstar_hpure_l).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hstar_hpure_l" class="idref" href="#himpl_hstar_hpure_l"><span class="id" title="lemma">himpl_hstar_hpure_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:26" class="idref" href="#P:26"><span class="id" title="binder">P</span></a>:<span class="id" title="keyword">Prop</span>) (<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">H</span></a> <a id="H':28" class="idref" href="#H':28"><span class="id" title="binder">H'</span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#P:26"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Himpl.html#H:27"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':28"><span class="id" title="variable">H'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#P:26"><span class="id" title="variable">P</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H:27"><span class="id" title="variable">H</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':28"><span class="id" title="variable">H'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Consider an entailment of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span>, where <span class="inlinecode"><span class="id" title="var">x</span></span> has
    some type <span class="inlinecode"><span class="id" title="var">A</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span> has type <span class="inlinecode"><span class="id" title="var">A</span>→<span class="id" title="var">hprop</span></span>. To establish this entailment, we
    must exhibit a value for <span class="inlinecode"><span class="id" title="var">x</span></span> for which <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>. 
<div class="paragraph"> </div>

<a id="lab129"></a><h4 class="section">Exercise: 2 stars, standard, optional (himpl_hexists_r).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hexists_r</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hexists_r" class="idref" href="#himpl_hexists_r"><span class="id" title="lemma">himpl_hexists_r</span></a> : <span class="id" title="keyword">∀</span> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> (<a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a>:<a class="idref" href="Himpl.html#A:29"><span class="id" title="variable">A</span></a>) <a id="H:31" class="idref" href="#H:31"><span class="id" title="binder">H</span></a> <a id="J:32" class="idref" href="#J:32"><span class="id" title="binder">J</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H:31"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#J:32"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:30"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:31"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#J:32"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:33"><span class="id" title="variable">x</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Reciprocally, consider an entailment <span class="inlinecode">(<span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode">(<span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span>))</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H</span></span>. To
    establish this entailment, one has to prove that, whatever the value of <span class="inlinecode"><span class="id" title="var">x</span></span>,
    the predicate <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> entails <span class="inlinecode"><span class="id" title="var">H</span></span>. Indeed the former proposition asserts that
    if a heap <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> for some <span class="inlinecode"><span class="id" title="var">x</span></span>, then <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">H'</span></span>, while
    the latter asserts that if, for some <span class="inlinecode"><span class="id" title="var">x</span></span>, the predicate <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>,
    then <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">H'</span></span>.

<div class="paragraph"> </div>

    The "extraction rule for existentials in the left of an entailment" captures
    the property that existentials can be extracted into the Coq context. It is
    stated as follows. (Observe how the existential quantifier on the left of
    the entailment becomes a universal quantifier outside of the arrow.) 
<div class="paragraph"> </div>

<a id="lab130"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hexists_l).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hexists_l" class="idref" href="#himpl_hexists_l"><span class="id" title="lemma">himpl_hexists_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>) (<a id="H:35" class="idref" href="#H:35"><span class="id" title="binder">H</span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) (<a id="J:36" class="idref" href="#J:36"><span class="id" title="binder">J</span></a>:<a class="idref" href="Himpl.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:37" class="idref" href="#x:37"><span class="id" title="binder">x</span></a>, <a class="idref" href="Himpl.html#J:36"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:37"><span class="id" title="variable">x</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:35"><span class="id" title="variable">H</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#J:36"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:38"><span class="id" title="variable">x</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:35"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab131"></a><h2 class="section">Extracting Information from Heap Predicates</h2>

<div class="paragraph"> </div>

 We next present an example showing how entailments can be used to state
    lemmas allowing that extract information from particular heap predicates.
    Concretely, we show that, from a heap predicate of the form
    <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v<sub>1</sub></span>)</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v<sub>2</sub></span>)</span>, describing two "disjoint" cells that are both
    "at location <span class="inlinecode"><span class="id" title="var">p</span></span>", one can extract a contradiction. Indeed, such a state
    cannot exist. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="hstar_hsingle_same_loc" class="idref" href="#hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:39" class="idref" href="#p:39"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>) (<a id="v<sub>1</sub>:40" class="idref" href="#v<sub>1</sub>:40"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:41" class="idref" href="#v<sub>2</sub>:41"><span class="id" title="binder">v<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Hprop.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#v<sub>1</sub>:40"><span class="id" title="variable">v<sub>1</sub></span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Hprop.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#v<sub>2</sub>:41"><span class="id" title="variable">v<sub>2</sub></span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a>.<br/>
</div>

<div class="doc">
The proof of this result exploits a result on finite maps. Essentially, the
    domain of a single singleton map that binds a location <span class="inlinecode"><span class="id" title="var">p</span></span> to some value is
    the singleton set <span class="inlinecode">\{<span class="id" title="var">p</span>}</span>, so such a singleton map cannot be disjoint from
    another singleton map that binds the same location <span class="inlinecode"><span class="id" title="var">p</span></span>.
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <span class="id" title="var">disjoint_single_single_same_inv</span> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span>:<span class="id" title="var">loc</span>) (<span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span>:<span class="id" title="var">val</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fmap.disjoint</span> (<span class="id" title="var">Fmap.single</span> <span class="id" title="var">p</span> <span class="id" title="var">v<sub>1</sub></span>) (<span class="id" title="var">Fmap.single</span> <span class="id" title="var">p</span> <span class="id" title="var">v<sub>2</sub></span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">False</span>.
</span>
<div class="paragraph"> </div>

 Using this lemma, we can prove <span class="inlinecode"><span class="id" title="var">hstar_hsingle_same_loc</span></span> by unfolding the
    definition of <span class="inlinecode"><span class="id" title="var">hstar</span></span> to reveal the contradiction on the disjointness
    assumption. 
</div>
<div class="code">

<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hprop.html#hsingle"><span class="id" title="definition">hsingle</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> (<span class="id" title="var">h<sub>1</sub></span>&amp;<span class="id" title="var">h<sub>2</sub></span>&amp;<span class="id" title="var">E<sub>1</sub></span>&amp;<span class="id" title="var">E<sub>2</sub></span>&amp;<span class="id" title="var">D</span>&amp;<span class="id" title="var">E</span>). <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LibSepReference.html#Fmap.disjoint_single_single_same_inv"><span class="id" title="lemma">Fmap.disjoint_single_single_same_inv</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
More generally, a heap predicate of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span></span> is usually suspicious
    in Separation Logic. In the simple variant of Separation Logic that we
    consider in this course, there are only three typical situations where
    <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span></span> makes sense:

<div class="paragraph"> </div>

<ul class="doclist">
<li> (1) if <span class="inlinecode"><span class="id" title="var">H</span></span> is the empty heap predicate <span class="inlinecode"><span class='gray-font'>\</span>[]</span>,

</li>
<li> (2) if <span class="inlinecode"><span class="id" title="var">H</span></span> is a pure heap predicate of the form <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span>, or

</li>
<li> (3) if <span class="inlinecode"><span class="id" title="var">H</span></span> has the form <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode">(<span class="id" title="var">H<sub>0</sub></span>:<span class="id" title="var">hprop</span>),</span> <span class="inlinecode"><span class="id" title="var">H<sub>0</sub></span></span>, which will be written
             <span class="inlinecode">\<span class="id" title="var">GC</span></span> in chapter <a href="Affine.html"><span class="inlineref">Affine</span></a>. 

</li>
</ul>
</div>

<div class="doc">
<a id="lab132"></a><h3 class="section">Rules for Naming Heaps</h3>

<div class="paragraph"> </div>

 We write <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">h</span></span> as a shorthand for <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">h'</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">h'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">h</span></span>, that is, the heap
    predicate that only accepts heaps exactly equal to <span class="inlinecode"><span class="id" title="var">h</span></span>. 
<div class="paragraph"> </div>

<a id="lab133"></a><h4 class="section">Exercise: 3 stars, standard, optional (hexists_named_eq)</h4>
 Prove that a heap predicate <span class="inlinecode"><span class="id" title="var">H</span></span> is equivalent to
    <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">h</span>,</span> <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">h</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode">(=</span> <span class="inlinecode"><span class="id" title="var">h</span>))</span>.

<div class="paragraph"> </div>

    Hint: In one direction, use <span class="inlinecode"><span class="id" title="var">hexists_intro</span></span> and <span class="inlinecode"><span class="id" title="var">hstar_hpure_l</span></span>. In the
    other, use the extraction rules <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span> and <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span>.
    
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="hexists_named_eq" class="idref" href="#hexists_named_eq"><span class="id" title="lemma">hexists_named_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">H</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:42"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="h:43" class="idref" href="#h:43"><span class="id" title="binder">h</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#H:42"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#h:43"><span class="id" title="variable">h</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><span class="id" title="notation">=</span> <a class="idref" href="Himpl.html#h:43"><span class="id" title="variable">h</span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab134"></a><h2 class="section">The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> Tactic</h2>

<div class="paragraph"> </div>

 Simplifying entailments by hand is extremely tedious. Fortunately, it can be
    automated using a specialized Coq tactic. This tactic, called <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>,
    applies to an entailment and implements a 3-step process:

<div class="paragraph"> </div>

<ul class="doclist">
<li> extract pure facts and existential quantifiers from the LHS;

</li>
<li> instantial existential quantifiers from the RHS, using either Coq
      unification variables or user-provided hints (details are explained
      further on);

</li>
<li> cancel out predicates that occur on both the LHS and RHS; certain
      Coq unification variables may be instantiated during that process.

</li>
</ul>

<div class="paragraph"> </div>

    These steps are detailed and illustrated in the subsections that follow. 
<div class="paragraph"> </div>

 To make the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic available, we import the <span class="inlinecode"><span class="id" title="var">LibSepReference</span></span>, over
    a scope delimited by the module named <span class="inlinecode"><span class="id" title="var">XsimplTactic</span></span>. When doing so, the
    Separation Logic operators and entailments refer to the definitions from
    <span class="inlinecode"><span class="id" title="var">LibSepReference</span></span>. These definitions are essentially the same as those
    presented in <span class="inlinecode"><span class="id" title="var">Hprop</span></span> and earlier in the present chapter. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="XsimplTactic" class="idref" href="#XsimplTactic"><span class="id" title="module">XsimplTactic</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="LibSepReference.html#"><span class="id" title="module">LibSepReference</span></a>.<br/>
</div>

<div class="doc">
<a id="lab135"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> Extracts Pure Facts and Quantifiers in LHS</h3>

<div class="paragraph"> </div>

 The first feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to extract the pure facts and
    existential quantifiers from the left-hand side out into the Coq context.

<div class="paragraph"> </div>

    In the example below, the pure fact <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> appears in the LHS. After
    calling <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, this pure fact is turned into a hypothesis, which may be
    introduced with a name into the Coq context. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hpure"><span class="id" title="lemma">xsimpl_demo_lhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:44" class="idref" href="#H<sub>1</sub>:44"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:45" class="idref" href="#H<sub>2</sub>:45"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:46" class="idref" href="#H<sub>3</sub>:46"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:47" class="idref" href="#H<sub>4</sub>:47"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:44"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:45"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:48"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:46"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:47"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
In case the LHS includes a contradiction, such as the pure fact <span class="inlinecode"><span class="id" title="var">False</span></span>, the
    goal gets solved immediately by <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hpure"><span class="id" title="lemma">xsimpl_demo_lhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:49" class="idref" href="#H<sub>1</sub>:49"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:50" class="idref" href="#H<sub>2</sub>:50"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:51" class="idref" href="#H<sub>3</sub>:51"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:52" class="idref" href="#H<sub>4</sub>:52"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:49"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:50"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:51"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:52"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic also extracts existential quantifiers from the LHS. It
    turns them into universally quantified variables outside of the entailment
    relation. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hexists" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hexists"><span class="id" title="lemma">xsimpl_demo_lhs_hexists</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:53" class="idref" href="#H<sub>1</sub>:53"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:54" class="idref" href="#H<sub>2</sub>:54"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:55" class="idref" href="#H<sub>3</sub>:55"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:56" class="idref" href="#H<sub>4</sub>:56"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:57" class="idref" href="#p:57"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:53"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:58" class="idref" href="#n:58"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:57"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:54"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:55"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:56"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
A single call to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> extracts <i>all</i> the pure facts and quantifiers from
    the LHS. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_several" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_several"><span class="id" title="lemma">xsimpl_demo_lhs_several</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:59" class="idref" href="#H<sub>1</sub>:59"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:60" class="idref" href="#H<sub>2</sub>:60"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:61" class="idref" href="#H<sub>3</sub>:61"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:62" class="idref" href="#H<sub>4</sub>:62"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:63" class="idref" href="#p:63"><span class="id" title="binder">p</span></a> <a id="q:64" class="idref" href="#q:64"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:59"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:65" class="idref" href="#n:65"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:63"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:65"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:65"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:60"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#p:63"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Himpl.html#q:64"><span class="id" title="variable">q</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:61"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:62"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab136"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> Cancels Out Heap Predicates from LHS and RHS</h3>

<div class="paragraph"> </div>

 The second feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to cancel out similar heap
    predicates that occur on both sides of an entailment.

<div class="paragraph"> </div>

    In the example below, <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> occurs on both sides, so it is canceled out by
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_one" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_one"><span class="id" title="lemma">xsimpl_demo_cancel_one</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:66" class="idref" href="#H<sub>1</sub>:66"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:67" class="idref" href="#H<sub>2</sub>:67"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:68" class="idref" href="#H<sub>3</sub>:68"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:69" class="idref" href="#H<sub>4</sub>:69"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:70" class="idref" href="#H<sub>5</sub>:70"><span class="id" title="binder">H<sub>5</sub></span></a> <a id="H<sub>6</sub>:71" class="idref" href="#H<sub>6</sub>:71"><span class="id" title="binder">H<sub>6</sub></span></a> <a id="H<sub>7</sub>:72" class="idref" href="#H<sub>7</sub>:72"><span class="id" title="binder">H<sub>7</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:66"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:67"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:68"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:69"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:70"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>6</sub>:71"><span class="id" title="variable">H<sub>6</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:67"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>7</sub>:72"><span class="id" title="variable">H<sub>7</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">xsimpl</span></span> actually cancels out <i>all</i> the heap predicates that it can spot
    appearing on both sides. In the example below, <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span>, and <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span> are
    canceled out. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_many" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_many"><span class="id" title="lemma">xsimpl_demo_cancel_many</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:73" class="idref" href="#H<sub>1</sub>:73"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:74" class="idref" href="#H<sub>2</sub>:74"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:75" class="idref" href="#H<sub>3</sub>:75"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:76" class="idref" href="#H<sub>4</sub>:76"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:77" class="idref" href="#H<sub>5</sub>:77"><span class="id" title="binder">H<sub>5</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:73"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:74"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:75"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:76"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:76"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:75"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:77"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:74"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
If all the pieces of heap predicate get canceled out, the remaining proof
    obligation is <span class="inlinecode"><span class='gray-font'>\</span>[]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class='gray-font'>\</span>[]</span>. In this case, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> automatically solves the
    goal by invoking the reflexivity of entailment. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_all" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_all"><span class="id" title="lemma">xsimpl_demo_cancel_all</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:78" class="idref" href="#H<sub>1</sub>:78"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:79" class="idref" href="#H<sub>2</sub>:79"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:80" class="idref" href="#H<sub>3</sub>:80"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:81" class="idref" href="#H<sub>4</sub>:81"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:78"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:79"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:80"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:81"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:81"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:80"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:78"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:79"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab137"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> Instantiates Pure Facts and Quantifiers in the RHS</h3>

<div class="paragraph"> </div>

 The third feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to extract pure facts from the
    RHS as separate subgoals and to instantiate existential quantifiers from the
    RHS.

<div class="paragraph"> </div>

    Let us first illustrate how it deals with pure facts. In the example below,
    the fact <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> gets spawned in a separated subgoal. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hpure"><span class="id" title="lemma">xsimpl_demo_rhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:82" class="idref" href="#H<sub>1</sub>:82"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:83" class="idref" href="#H<sub>2</sub>:83"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:84" class="idref" href="#H<sub>3</sub>:84"><span class="id" title="binder">H<sub>3</sub></span></a> (<a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:82"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:83"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:85"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:84"><span class="id" title="variable">H<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
When it encounters an existential quantifier in the RHS, the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic
    introduces a unification variable denoted by a question mark, that is, an
    "evar", in Coq terminology. Here, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> turns <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">n</span>,</span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">..</span>
    into <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> <span class="inlinecode">..</span>, where <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> is the evar. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists"><span class="id" title="lemma">xsimpl_demo_rhs_hexists</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:86" class="idref" href="#H<sub>1</sub>:86"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:87" class="idref" href="#H<sub>2</sub>:87"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:88" class="idref" href="#H<sub>3</sub>:88"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:89" class="idref" href="#H<sub>4</sub>:89"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:90" class="idref" href="#p:90"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:86"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:87"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:90"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:91"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:88"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:89"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
</div>

<div class="doc">
The output of the command <span class="inlinecode"><span class="id" title="keyword">Show</span></span> <span class="inlinecode"><span class="id" title="var">Existentials</span></span> shows <span class="inlinecode"><span class="id" title="var">Existential</span></span> <span class="inlinecode">1</span>, named
    <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span>, of type <span class="inlinecode"><span class="id" title="var">int</span></span>. This "evar" corresponds to the value assigned to the
    existentially quantified variable <span class="inlinecode"><span class="id" title="var">n</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The "evar" often gets subsequently instantiated as a result of a
    cancellation step. For example, in the example below, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> instantiates
    the existentially quantified variable <span class="inlinecode"><span class="id" title="var">n</span></span> as <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span>, then cancels out
    <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> from the LHS against <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">3</span> on the right-hand-side, thereby
    unifying <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> with <span class="inlinecode">3</span>. As a result, the "evar" <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> is never visible.
    
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists_unify" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists_unify"><span class="id" title="lemma">xsimpl_demo_rhs_hexists_unify</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:92" class="idref" href="#H<sub>1</sub>:92"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:93" class="idref" href="#H<sub>2</sub>:93"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:94" class="idref" href="#H<sub>3</sub>:94"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:95" class="idref" href="#H<sub>4</sub>:95"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:96" class="idref" href="#p:96"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:92"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:93"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:96"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:97"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:94"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:95"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The instantiation of "evars" can only be observed if there is another
    occurrence of the same variable in the entailment. In the next example,
    which refines the previous one, observe how the assertion <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> that
    appears in the LHS gets turned into the proof obligation <span class="inlinecode">3</span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span>. This
    results from <span class="inlinecode"><span class="id" title="var">n</span></span> being unified with <span class="inlinecode">3</span> when <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">n</span></span> is cancelled against
    <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">3</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists_unify_view" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists_unify_view"><span class="id" title="lemma">xsimpl_demo_rhs_hexists_unify_view</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:98" class="idref" href="#H<sub>1</sub>:98"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:99" class="idref" href="#H<sub>2</sub>:99"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>4</sub>:100" class="idref" href="#H<sub>4</sub>:100"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:101" class="idref" href="#p:101"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:98"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:101"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:99"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:101"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:102"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:100"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
In practice, in most cases, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> would instantiate existentials on the
    left-hand side, then discharge what remains of the entailment. Here are two
    typical examples. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_exists_solved_1" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_exists_solved_1"><span class="id" title="lemma">xsimpl_demo_rhs_exists_solved_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:103" class="idref" href="#p:103"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:103"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:103"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:104"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_exists_solved_2" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_exists_solved_2"><span class="id" title="lemma">xsimpl_demo_rhs_exists_solved_2</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:105" class="idref" href="#p:105"><span class="id" title="binder">p</span></a> <a id="q:106" class="idref" href="#q:106"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:106"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:106"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:107"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
In certain situations, it may be desirable to provide an explicit value for
    instantiating an existential quantifier that occurs in the RHS. The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>
    tactic accepts arguments, which will be used to instantiate the existentials
    (on a first-match basis). The syntax is <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode"><span class="id" title="var">v<sub>1</sub></span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">vn</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hints" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hints"><span class="id" title="lemma">xsimpl_demo_rhs_hints</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:108" class="idref" href="#H<sub>1</sub>:108"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="p:109" class="idref" href="#p:109"><span class="id" title="binder">p</span></a> <a id="q:110" class="idref" href="#q:110"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:108"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:111" class="idref" href="#n:111"><span class="id" title="binder">n</span></a> <a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:109"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:111"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:110"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#m:112"><span class="id" title="variable">m</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span> 8 9.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
If two existential quantifiers quantify variables of the same type, it is
    possible to provide a value for only the second quantifier by passing as
    first argument to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> the special value <span class="inlinecode"><span class="id" title="var">__</span></span>. The following example
    shows how, on LHS of the form <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode">...</span>, the tactic <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode"><span class="id" title="var">__</span></span> <span class="inlinecode">9</span>
    instantiates <span class="inlinecode"><span class="id" title="var">m</span></span> with <span class="inlinecode">9</span> while leaving <span class="inlinecode"><span class="id" title="var">n</span></span> as an unresolved evar. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hints_evar" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hints_evar"><span class="id" title="lemma">xsimpl_demo_rhs_hints_evar</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:113" class="idref" href="#H<sub>1</sub>:113"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="p:114" class="idref" href="#p:114"><span class="id" title="binder">p</span></a> <a id="q:115" class="idref" href="#q:115"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:113"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:116" class="idref" href="#n:116"><span class="id" title="binder">n</span></a> <a id="m:117" class="idref" href="#m:117"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:114"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:115"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#m:117"><span class="id" title="variable">m</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span> <span class="id" title="notation">__</span> 9.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab138"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> on Entailments Between Postconditions</h3>

<div class="paragraph"> </div>

 The tactic <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> also applies on goals of the form <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span>.

<div class="paragraph"> </div>

    For such goals, it unfolds the definition of <span class="inlinecode">===&gt;</span> to reveal an entailment
    of the form <span class="inlinecode">==&gt;</span>, then invokes the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.qimpl_example_1" class="idref" href="#XsimplTactic.qimpl_example_1"><span class="id" title="lemma">qimpl_example_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="Q<sub>1</sub>:118" class="idref" href="#Q<sub>1</sub>:118"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:119" class="idref" href="#Q<sub>2</sub>:119"><span class="id" title="binder">Q<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>) (<a id="H<sub>2</sub>:120" class="idref" href="#H<sub>2</sub>:120"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:121" class="idref" href="#H<sub>3</sub>:121"><span class="id" title="binder">H<sub>3</sub></span></a>:<a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#Q<sub>1</sub>:118"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:120"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#9351a4f098e275023c32e0091e608189"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:119"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:120"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:121"><span class="id" title="variable">H<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>. <span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab139"></a><h3 class="section">Example: Entailment Proofs using <span class="inlinecode"><span class="id" title="var">xpull</span></span> and <span class="inlinecode"><span class="id" title="var">xsimpl</span></span></h3>

<div class="paragraph"> </div>

 The <span class="inlinecode"><span class="id" title="var">xpull</span></span> tactic is a restricted version of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>: it operates on the
    left-hand side of the entailment, but leaves the right-hand side untouched.
    In other words, <span class="inlinecode"><span class="id" title="var">xpull</span></span> performs only the first half of the work that
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> would do. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xpull_example_1" class="idref" href="#XsimplTactic.xpull_example_1"><span class="id" title="lemma">xpull_example_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:122" class="idref" href="#p:122"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:123" class="idref" href="#n:123"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:123"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="m:124" class="idref" href="#m:124"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#m:124"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xpull</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xpull_example_2" class="idref" href="#XsimplTactic.xpull_example_2"><span class="id" title="lemma">xpull_example_2</span></a> : <span class="id" title="keyword">∀</span> (<a id="H:125" class="idref" href="#H:125"><span class="id" title="binder">H</span></a>:<a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:125"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xpull</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The next example illustrates an interesting situation where <span class="inlinecode"><span class="id" title="var">xpull</span></span> is
    required because a plain call to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> leads to an awkward goal. This
    examples involves a nontrivial instantiation of an existential quantifier on
    the right-hand side of the entailment. However, we cannot provide an
    explicit hint to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> before extracting an existential quantifier that
    appears on the left-hand side of the entailment. Here is the example. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xpull_example_3" class="idref" href="#XsimplTactic.xpull_example_3"><span class="id" title="lemma">xpull_example_3</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:126" class="idref" href="#p:126"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:127" class="idref" href="#n:127"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:126"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:127"><span class="id" title="variable">n</span></a><a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:126"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a><a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;xsimpl.&nbsp;*)</span><br/>
</div>

<div class="doc">
Invoking <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> here leaves the goal <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span>. This
    statement is technically provable, because <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> can be instantiated with
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">-</span> <span class="inlinecode">1</span>. Yet, discharging such a proof obligation, which features a Coq
    meta-variable <span class="inlinecode">?<span class="id" title="keyword">Goal</span></span> that depends on a bound variable <span class="inlinecode"><span class="id" title="var">x</span></span> is rather awkward
    and impractical.  The proper route to solving this kind of entailment is to first extract the
    <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> into the context, then use <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode">(<span class="id" title="var">n</span>-1)</span> to provide as hint to
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> that <span class="inlinecode"><span class="id" title="var">m</span></span> should be instantiated with <span class="inlinecode"><span class="id" title="var">n</span>-1</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="var">xpull</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="var">xsimpl</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1). <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab140"></a><h2 class="section">The <span class="inlinecode"><span class="id" title="var">xchange</span></span> Tactic</h2>

<div class="paragraph"> </div>

 The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> is to entailment what <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> is to equality.

<div class="paragraph"> </div>

    Assume an entailment goal of the form <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span>. Assume an
    entailment assumption <span class="inlinecode"><span class="id" title="var">M</span></span>, say <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span>. Then <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> turns the goal
    into <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span>, effectively replacing <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> with <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_base" class="idref" href="#XsimplTactic.xchange_demo_base"><span class="id" title="lemma">xchange_demo_base</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:129" class="idref" href="#H<sub>1</sub>:129"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:130" class="idref" href="#H<sub>2</sub>:130"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':131" class="idref" href="#H<sub>2</sub>':131"><span class="id" title="binder">H<sub>2</sub>'</span></a> <a id="H<sub>3</sub>:132" class="idref" href="#H<sub>3</sub>:132"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:133" class="idref" href="#H<sub>4</sub>:133"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:130"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':131"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:129"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:130"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:132"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:133"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Note&nbsp;that&nbsp;freshly&nbsp;produced&nbsp;items&nbsp;appear&nbsp;to&nbsp;the&nbsp;front&nbsp;*)</span><br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">xchange</span></span> tactic can also take an equality as an argument; <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span>
    exploits the left-to-right direction of an equality <span class="inlinecode"><span class="id" title="var">M</span></span>, whereas
    <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode">&lt;-</span> <span class="inlinecode"><span class="id" title="var">M</span></span> exploits the right-to-left direction. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_eq" class="idref" href="#XsimplTactic.xchange_demo_eq"><span class="id" title="lemma">xchange_demo_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:134" class="idref" href="#H<sub>1</sub>:134"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:135" class="idref" href="#H<sub>2</sub>:135"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:136" class="idref" href="#H<sub>3</sub>:136"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:137" class="idref" href="#H<sub>4</sub>:137"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:138" class="idref" href="#H<sub>5</sub>:138"><span class="id" title="binder">H<sub>5</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:134"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:136"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:138"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:134"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:135"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:136"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:137"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">xchange</span> &lt;- <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> will accept a lemma or hypothesis <span class="inlinecode"><span class="id" title="var">M</span></span> with universal
    quantifiers, as long as its conclusion is an equality or an entailment. In
    such case, <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> instantiates <span class="inlinecode"><span class="id" title="var">M</span></span> before attemting to perform a
    replacement. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_inst" class="idref" href="#XsimplTactic.xchange_demo_inst"><span class="id" title="lemma">xchange_demo_inst</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:139" class="idref" href="#H<sub>1</sub>:139"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="J:140" class="idref" href="#J:140"><span class="id" title="binder">J</span></a> <a id="J':141" class="idref" href="#J':141"><span class="id" title="binder">J'</span></a>:<span class="id" title="notation">int</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>) <a id="H<sub>3</sub>:142" class="idref" href="#H<sub>3</sub>:142"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:143" class="idref" href="#H<sub>4</sub>:143"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:144" class="idref" href="#n:144"><span class="id" title="binder">n</span></a>, <a class="idref" href="Himpl.html#J:140"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#n:144"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#J':141"><span class="id" title="variable">J'</span></a> (<a class="idref" href="Himpl.html#n:144"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1)<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:139"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#J:140"><span class="id" title="variable">J</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:142"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:143"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab141"></a><h2 class="section">Identifying True and False Entailments</h2>

<div class="paragraph"> </div>

 Quiz: For each entailment below, indicate (without a Coq proof) whether it
    is true or false. Solutions appear further on. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="XsimplTactic.EntailmentQuiz" class="idref" href="#XsimplTactic.EntailmentQuiz"><span class="id" title="module">EntailmentQuiz</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="notation">int</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_1" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_1"><span class="id" title="axiom">case_study_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:145" class="idref" href="#p:145"><span class="id" title="binder">p</span></a> <a id="q:146" class="idref" href="#q:146"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:145"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:146"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:146"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:145"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_2" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_2"><span class="id" title="axiom">case_study_2</span></a> : <span class="id" title="keyword">∀</span> <a id="p:148" class="idref" href="#p:148"><span class="id" title="binder">p</span></a> <a id="q:149" class="idref" href="#q:149"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:148"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:149"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:148"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_3" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_3"><span class="id" title="axiom">case_study_3</span></a> : <span class="id" title="keyword">∀</span> <a id="p:151" class="idref" href="#p:151"><span class="id" title="binder">p</span></a> <a id="q:152" class="idref" href="#q:152"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#q:152"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_4" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_4"><span class="id" title="axiom">case_study_4</span></a> : <span class="id" title="keyword">∀</span> <a id="p:154" class="idref" href="#p:154"><span class="id" title="binder">p</span></a> <a id="q:155" class="idref" href="#q:155"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:155"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_5" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_5"><span class="id" title="axiom">case_study_5</span></a> : <span class="id" title="keyword">∀</span> <a id="p:157" class="idref" href="#p:157"><span class="id" title="binder">p</span></a> <a id="q:158" class="idref" href="#q:158"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:157"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:158"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_6" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_6"><span class="id" title="axiom">case_study_6</span></a> : <span class="id" title="keyword">∀</span> <a id="p:160" class="idref" href="#p:160"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_7" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_7"><span class="id" title="axiom">case_study_7</span></a> : <span class="id" title="keyword">∀</span> <a id="p:162" class="idref" href="#p:162"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:162"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:162"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_8" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_8"><span class="id" title="axiom">case_study_8</span></a> : <span class="id" title="keyword">∀</span> <a id="p:164" class="idref" href="#p:164"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:165" class="idref" href="#n:165"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:165"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_9" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_9"><span class="id" title="axiom">case_study_9</span></a> : <span class="id" title="keyword">∀</span> <a id="p:167" class="idref" href="#p:167"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:168"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_10" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_10"><span class="id" title="axiom">case_study_10</span></a> : <span class="id" title="keyword">∀</span> <a id="p:170" class="idref" href="#p:170"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:171" class="idref" href="#n:171"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:170"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:171"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:171"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:172" class="idref" href="#n:172"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:172"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:170"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:172"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_11" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_11"><span class="id" title="axiom">case_study_11</span></a> : <span class="id" title="keyword">∀</span> <a id="p:174" class="idref" href="#p:174"><span class="id" title="binder">p</span></a> <a id="q:175" class="idref" href="#q:175"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:174"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:175"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:176" class="idref" href="#n:176"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:174"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:176"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:175"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:176"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.EntailmentQuiz.case_study_12" class="idref" href="#XsimplTactic.EntailmentQuiz.case_study_12"><span class="id" title="axiom">case_study_12</span></a> : <span class="id" title="keyword">∀</span> <a id="p:178" class="idref" href="#p:178"><span class="id" title="binder">p</span></a> <a id="n:179" class="idref" href="#n:179"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:178"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:179"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:179"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:179"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:178"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:179"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:178"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:179"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.EntailmentQuiz"><span class="id" title="module">EntailmentQuiz</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Module</span> <a id="XsimplTactic.EntailmentQuizAnswers" class="idref" href="#XsimplTactic.EntailmentQuizAnswers"><span class="id" title="module">EntailmentQuizAnswers</span></a>.<br/>
</div>

<div class="doc">
The answers to the quiz are as follows.

<div class="paragraph"> </div>

    1. True, by commutativity.

<div class="paragraph"> </div>

    2. False, because one cell does not entail two cells.

<div class="paragraph"> </div>

    3. False, because two cells do not entail one cell.

<div class="paragraph"> </div>

    4. True, because \<span class="inlinecode"><span class="id" title="var">False</span></span> entails anything.

<div class="paragraph"> </div>

    5. False, because a satisfiable heap predicate does not entail \<span class="inlinecode"><span class="id" title="var">False</span></span>.

<div class="paragraph"> </div>

    6. True, because a cell cannot be starred with itself.

<div class="paragraph"> </div>

    7. True, because a cell cannot be starred with itself.

<div class="paragraph"> </div>

    8. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> with <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    9. False, because <span class="inlinecode"><span class="id" title="var">n</span></span> could be something else than <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    10. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> in RHS with <span class="inlinecode"><span class="id" title="var">n</span>+1</span> for the <span class="inlinecode"><span class="id" title="var">n</span></span> of the LHS.

<div class="paragraph"> </div>

    11. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> with <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    12. True, because it is equivalent to <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">False</span>]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">False</span>]</span>.

<div class="paragraph"> </div>

    Proofs for the true results appear below, using the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic. 
</div>
<div class="code">

<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="notation">int</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_1" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_1"><span class="id" title="lemma">case_study_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:181" class="idref" href="#p:181"><span class="id" title="binder">p</span></a> <a id="q:182" class="idref" href="#q:182"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:181"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:182"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:182"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:181"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_4" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_4"><span class="id" title="lemma">case_study_4</span></a> : <span class="id" title="keyword">∀</span> <a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a> <a id="q:184" class="idref" href="#q:184"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:184"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_6" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_6"><span class="id" title="lemma">case_study_6</span></a> : <span class="id" title="keyword">∀</span> <a id="p:185" class="idref" href="#p:185"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:185"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:185"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xchange</span> (<a class="idref" href="LibSepReference.html#SepSimplArgs.hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_7" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_7"><span class="id" title="lemma">case_study_7</span></a> : <span class="id" title="keyword">∀</span> <a id="p:186" class="idref" href="#p:186"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:186"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:186"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xchange</span> (<a class="idref" href="LibSepReference.html#SepSimplArgs.hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_8" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_8"><span class="id" title="lemma">case_study_8</span></a> : <span class="id" title="keyword">∀</span> <a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:188" class="idref" href="#n:188"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:188"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_10" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_10"><span class="id" title="lemma">case_study_10</span></a> : <span class="id" title="keyword">∀</span> <a id="p:189" class="idref" href="#p:189"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:190"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:190"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:191" class="idref" href="#n:191"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:191"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:191"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xpull</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>. <span class="id" title="var">xsimpl</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;<span class="id" title="var">math</span>. <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_11" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_11"><span class="id" title="lemma">case_study_11</span></a> : <span class="id" title="keyword">∀</span> <a id="p:192" class="idref" href="#p:192"><span class="id" title="binder">p</span></a> <a id="q:193" class="idref" href="#q:193"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:192"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:193"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:194" class="idref" href="#n:194"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:192"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:194"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:193"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:194"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentQuizAnswers.case_study_12" class="idref" href="#XsimplTactic.EntailmentQuizAnswers.case_study_12"><span class="id" title="lemma">case_study_12</span></a> : <span class="id" title="keyword">∀</span> <a id="p:195" class="idref" href="#p:195"><span class="id" title="binder">p</span></a> <a id="n:196" class="idref" href="#n:196"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:196"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:196"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:196"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:196"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:196"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn<sub>1</sub></span> <span class="id" title="var">Hn<sub>2</sub></span>. <span class="id" title="var">false</span>. <span class="id" title="var">math</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.EntailmentQuizAnswers"><span class="id" title="module">EntailmentQuizAnswers</span></a>.<br/>
</div>

<div class="doc">
<a id="lab142"></a><h1 class="section">More Details</h1>

</div>

<div class="doc">
<a id="lab143"></a><h2 class="section">Proving Entailments by Hand</h2>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="XsimplTactic.EntailmentProofs" class="idref" href="#XsimplTactic.EntailmentProofs"><span class="id" title="module">EntailmentProofs</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> : <span class="id" title="notation">int</span>.<br/>
</div>

<div class="doc">
Proving an entailment by hand is generally a tedious task. This is why most
    frameworks based on Separation Logic include an automated tactic for
    simplifying entailments. In this course, the relevant tactic is named
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. In order to fully appreciate what a simplification tactic provides
    and better understand how it works internally, it is very useful to complete
    a few entailment proofs by hand. 
<div class="paragraph"> </div>

<a id="lab144"></a><h4 class="section">Exercise: 3 stars, standard, optional (himpl_example_1)</h4>
 Prove the example entailment below. Hint: exploit <span class="inlinecode"><span class="id" title="var">hstar_comm</span></span>,
    <span class="inlinecode"><span class="id" title="var">hstar_assoc</span></span>, or <span class="inlinecode"><span class="id" title="var">hstar_comm_assoc</span></span> which combines the two, and exploit
    <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span> or <span class="inlinecode"><span class="id" title="var">himpl_frame_r</span></span> to cancel out matching pieces. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_1" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_1"><span class="id" title="lemma">himpl_example_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p<sub>1</sub>:197" class="idref" href="#p<sub>1</sub>:197"><span class="id" title="binder">p<sub>1</sub></span></a> <a id="p<sub>2</sub>:198" class="idref" href="#p<sub>2</sub>:198"><span class="id" title="binder">p<sub>2</sub></span></a> <a id="p<sub>3</sub>:199" class="idref" href="#p<sub>3</sub>:199"><span class="id" title="binder">p<sub>3</sub></span></a> <a id="p<sub>4</sub>:200" class="idref" href="#p<sub>4</sub>:200"><span class="id" title="binder">p<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p<sub>1</sub>:197"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:198"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:199"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>4</sub>:200"><span class="id" title="variable">p<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 9<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p<sub>4</sub>:200"><span class="id" title="variable">p<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 9 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:199"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:198"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>1</sub>:197"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab145"></a><h4 class="section">Exercise: 2 stars, standard, optional (himpl_example_2)</h4>
 Prove the example entailment below. Hint: use <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span> to
    extract pure facts, once they appear at the head of the left-hand side of
    the entailment. For arithmetic inequalities, use the <span class="inlinecode"><span class="id" title="var">math</span></span> tactic. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_2" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_2"><span class="id" title="lemma">himpl_example_2</span></a> : <span class="id" title="keyword">∀</span> <a id="p<sub>1</sub>:201" class="idref" href="#p<sub>1</sub>:201"><span class="id" title="binder">p<sub>1</sub></span></a> <a id="p<sub>2</sub>:202" class="idref" href="#p<sub>2</sub>:202"><span class="id" title="binder">p<sub>2</sub></span></a> <a id="p<sub>3</sub>:203" class="idref" href="#p<sub>3</sub>:203"><span class="id" title="binder">p<sub>3</sub></span></a> <a id="n:204" class="idref" href="#n:204"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p<sub>1</sub>:201"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:202"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:203"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab146"></a><h4 class="section">Exercise: 2 stars, standard, optional (himpl_example_3)</h4>
 Prove the example entailment below. Hint: use <span class="inlinecode"><span class="id" title="var">himpl_hexists_r</span></span>,
    <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span>, <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span> and/or <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span> to
    deal with pure facts and quantifiers. You may find the TLC tactic
    <span class="inlinecode"><span class="id" title="var">math_rewrite</span></span> <span class="inlinecode">(<span class="id" title="var">n</span>+1-1</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> helpful here. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_3" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_3"><span class="id" title="lemma">himpl_example_3</span></a> : <span class="id" title="keyword">∀</span> <a id="p:205" class="idref" href="#p:205"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:206" class="idref" href="#n:206"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:206"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:206"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:207" class="idref" href="#n:207"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:207"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:207"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.EntailmentProofs"><span class="id" title="module">EntailmentProofs</span></a>.<br/>
</div>

<div class="doc">
<a id="lab147"></a><h2 class="section">Inside the <span class="inlinecode"><span class="id" title="var">xchange</span></span> Tactic</h2>

<div class="paragraph"> </div>

 How does the <span class="inlinecode"><span class="id" title="var">xchange</span></span> tactic work? Consider a goal of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>
    and assume <span class="inlinecode"><span class="id" title="var">xchange</span></span> is invoked with an hypothesis of type <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> as
    argument. It attempts to decompose <span class="inlinecode"><span class="id" title="var">H</span></span> as the star of <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> and the rest of
    <span class="inlinecode"><span class="id" title="var">H</span></span>, call it <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. If it succeeds, then the goal <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span> can be rewritten
    as <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. To exploit the hypothesis <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span>, the tactic
    should replace the goal with the entailment <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. The lemma
    below mimics this piece of reasoning. 
<div class="paragraph"> </div>

<a id="lab148"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (xchange_lemma)</h4>
 Prove the following lemma without using <span class="inlinecode"><span class="id" title="var">xchange</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_lemma" class="idref" href="#XsimplTactic.xchange_lemma"><span class="id" title="lemma">xchange_lemma</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:208" class="idref" href="#H<sub>1</sub>:208"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':209" class="idref" href="#H<sub>1</sub>':209"><span class="id" title="binder">H<sub>1</sub>'</span></a> <a id="H:210" class="idref" href="#H:210"><span class="id" title="binder">H</span></a> <a id="H':211" class="idref" href="#H':211"><span class="id" title="binder">H'</span></a> <a id="H<sub>2</sub>:212" class="idref" href="#H<sub>2</sub>:212"><span class="id" title="binder">H<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:208"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':209"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:210"><span class="id" title="variable">H</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:208"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:212"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>':209"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:212"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':211"><span class="id" title="variable">H'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:210"><span class="id" title="variable">H</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':211"><span class="id" title="variable">H'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic"><span class="id" title="module">XsimplTactic</span></a>.<br/>
</div>

<div class="doc">
<a id="lab149"></a><h1 class="section">Optional Material</h1>

</div>

<div class="doc">
<a id="lab150"></a><h2 class="section">Proofs of Rules for Entailment</h2>

<div class="paragraph"> </div>

 We next show the details of the proofs establishing some of the fundamental
    properties of Separation Logic operators. All these results must be proved
    without help of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, because the implementation of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> itself
    depends on these properties.

<div class="paragraph"> </div>

    We begin with the frame property, which is the simplest to prove. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="EntailmentRulesProofs" class="idref" href="#EntailmentRulesProofs"><span class="id" title="module">EntailmentRulesProofs</span></a>.<br/>
</div>

<div class="doc">
<a id="lab151"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_l)</h4>
 Prove the frame property for entailment. Hint: unfold the definition of
    <span class="inlinecode"><span class="id" title="var">hstar</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_l" class="idref" href="#EntailmentRulesProofs.himpl_frame_l"><span class="id" title="lemma">himpl_frame_l</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:213" class="idref" href="#H<sub>2</sub>:213"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:214" class="idref" href="#H<sub>1</sub>:214"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':215" class="idref" href="#H<sub>1</sub>':215"><span class="id" title="binder">H<sub>1</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:214"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':215"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:214"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:213"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':215"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:213"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 The lemma <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span> admits two useful corollaries, presented next. 
<div class="paragraph"> </div>

<a id="lab152"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_r)</h4>
 Prove <span class="inlinecode"><span class="id" title="var">himpl_frame_r</span></span>, which is the symmetric of <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_r" class="idref" href="#EntailmentRulesProofs.himpl_frame_r"><span class="id" title="lemma">himpl_frame_r</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:216" class="idref" href="#H<sub>1</sub>:216"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:217" class="idref" href="#H<sub>2</sub>:217"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':218" class="idref" href="#H<sub>2</sub>':218"><span class="id" title="binder">H<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:217"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':218"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:216"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:217"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:216"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':218"><span class="id" title="variable">H<sub>2</sub>'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab153"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_lr)</h4>
 The monotonicity property of the star operator w.r.t. entailment can also be
    stated in a symmetric fashion, as shown next. Prove this result. Hint:
    exploit the transitivity of entailment (<span class="inlinecode"><span class="id" title="var">himpl_trans</span></span>) and the asymmetric
    monotonicity results from the two prior exercises. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_lr" class="idref" href="#EntailmentRulesProofs.himpl_frame_lr"><span class="id" title="lemma">himpl_frame_lr</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:219" class="idref" href="#H<sub>1</sub>:219"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':220" class="idref" href="#H<sub>1</sub>':220"><span class="id" title="binder">H<sub>1</sub>'</span></a> <a id="H<sub>2</sub>:221" class="idref" href="#H<sub>2</sub>:221"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':222" class="idref" href="#H<sub>2</sub>':222"><span class="id" title="binder">H<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:219"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':220"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:221"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':222"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:219"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:221"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':220"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':222"><span class="id" title="variable">H<sub>2</sub>'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#EntailmentRulesProofs"><span class="id" title="module">EntailmentRulesProofs</span></a>.<br/>
</div>

<div class="doc">
<a id="lab154"></a><h2 class="section">Historical Notes</h2>

</div>
<div class="code">

<span class="comment">(*&nbsp;2024-10-04&nbsp;13:56&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>