<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>LibSepFmap: Appendix - Finite Maps</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/slf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 6: Separation Logic Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">LibSepFmap<span class="subtitle">Appendix - Finite Maps</span></h1>


<div class="code">

<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SLF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">LibCore</span>.<br/>
</div>

<div class="doc">
<a id="lab579"></a><h1 class="section">Representation of Finite Maps</h1>

<div class="paragraph"> </div>

 This file provides a representation of finite maps, which may be used
    to represent the memory state of a program.

<div class="paragraph"> </div>

<ul class="doclist">
<li> It implements basic operations such as creation of a singleton map,
       union of maps, read and update operations.

</li>
<li> It includes predicates to assert disjointness of two maps (predicate
      <span class="inlinecode"><span class="id" title="var">disjoint</span></span>), and coherence of two maps on the intersection of their
      domain (predicate <span class="inlinecode"><span class="id" title="var">agree</span></span>).

</li>
<li> It comes with a tactic for <span class="inlinecode"><span class="id" title="var">fmap_eq</span></span> proving equalities modulo
      commutativity and associativity of map union.

</li>
</ul>

<div class="paragraph"> </div>

    The definition of the type <span class="inlinecode"><span class="id" title="var">fmap</span></span> is slightly technical in that it
    involves a dependent pair to pack the partial function of type
    <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">option</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> that represents the map, together with a proof of
    finiteness of the domain of this map. One useful lemma established
    in this file is the existence of fresh keys: for any finite map whose
    keys are natural numbers, there exists a natural number that does not
    already belong to the domain of that map. 
</div>

<div class="doc">
<a id="lab580"></a><h2 class="section">Representation of Potentially-Infinite Maps as Partial Functions</h2>

</div>

<div class="doc">
<a id="lab581"></a><h3 class="section">Representation</h3>

<div class="paragraph"> </div>

 Type of partial functions from A to B 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map" class="idref" href="#map"><span class="id" title="definition">map</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> <a id="B:2" class="idref" href="#B:2"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="LibSepFmap.html#B:2"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
<a id="lab582"></a><h3 class="section">Operations</h3>

<div class="paragraph"> </div>

 Disjoint union of two partial functions 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_union" class="idref" href="#map_union"><span class="id" title="definition">map_union</span></a> (<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f<sub>1</sub>:5" class="idref" href="#f<sub>1</sub>:5"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:6" class="idref" href="#f<sub>2</sub>:6"><span class="id" title="binder">f<sub>2</sub></span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:4"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:4"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:3"><span class="id" title="variable">A</span></a>) ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:5"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:7"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:6"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:7"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
Removal from a partial functions 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_remove" class="idref" href="#map_remove"><span class="id" title="definition">map_remove</span></a> (<a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a> <a id="B:9" class="idref" href="#B:9"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:10" class="idref" href="#f:10"><span class="id" title="binder">f</span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:9"><span class="id" title="variable">B</span></a>) (<a id="k:11" class="idref" href="#k:11"><span class="id" title="binder">k</span></a>:<a class="idref" href="LibSepFmap.html#A:8"><span class="id" title="variable">A</span></a>) : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:9"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:8"><span class="id" title="variable">A</span></a>) ⇒ <span class="id" title="notation">If</span> <a class="idref" href="LibSepFmap.html#x:12"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#k:11"><span class="id" title="variable">k</span></a> <span class="id" title="notation">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">else</span> <a class="idref" href="LibSepFmap.html#f:10"><span class="id" title="variable">f</span></a> <a class="idref" href="LibSepFmap.html#x:12"><span class="id" title="variable">x</span></a>.<br/>
</div>

<div class="doc">
Finite domain of a partial function 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_finite" class="idref" href="#map_finite"><span class="id" title="definition">map_finite</span></a> (<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a> <a id="B:14" class="idref" href="#B:14"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:15" class="idref" href="#f:15"><span class="id" title="binder">f</span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:14"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="L:16" class="idref" href="#L:16"><span class="id" title="binder">L</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LibSepFmap.html#A:13"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> (<a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:13"><span class="id" title="variable">A</span></a>), <a class="idref" href="LibSepFmap.html#f:15"><span class="id" title="variable">f</span></a> <a class="idref" href="LibSepFmap.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">mem</span> <a class="idref" href="LibSepFmap.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#L:16"><span class="id" title="variable">L</span></a>.<br/>
</div>

<div class="doc">
Disjointness of domain of two partial functions 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_disjoint" class="idref" href="#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> (<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> <a id="B:19" class="idref" href="#B:19"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f<sub>1</sub>:20" class="idref" href="#f<sub>1</sub>:20"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:21" class="idref" href="#f<sub>2</sub>:21"><span class="id" title="binder">f<sub>2</sub></span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:19"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="x:22" class="idref" href="#x:22"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:18"><span class="id" title="variable">A</span></a>), <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:20"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:21"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
Compatibility of two partial functions on the intersection
    of their domains (only for Separation Logic with RO-permissions) 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_agree" class="idref" href="#map_agree"><span class="id" title="definition">map_agree</span></a> (<a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a> <a id="B:24" class="idref" href="#B:24"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f<sub>1</sub>:25" class="idref" href="#f<sub>1</sub>:25"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:26" class="idref" href="#f<sub>2</sub>:26"><span class="id" title="binder">f<sub>2</sub></span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:23"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:24"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a> <a id="v<sub>1</sub>:28" class="idref" href="#v<sub>1</sub>:28"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:29" class="idref" href="#v<sub>2</sub>:29"><span class="id" title="binder">v<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:25"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:27"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="LibSepFmap.html#v<sub>1</sub>:28"><span class="id" title="variable">v<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:26"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:27"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="LibSepFmap.html#v<sub>2</sub>:29"><span class="id" title="variable">v<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#v<sub>1</sub>:28"><span class="id" title="variable">v<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#v<sub>2</sub>:29"><span class="id" title="variable">v<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
Domain of a map (as a predicate) 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_indom" class="idref" href="#map_indom"><span class="id" title="definition">map_indom</span></a> (<a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> <a id="B:31" class="idref" href="#B:31"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f<sub>1</sub>:32" class="idref" href="#f<sub>1</sub>:32"><span class="id" title="binder">f<sub>1</sub></span></a> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:31"><span class="id" title="variable">B</span></a>) : (<a class="idref" href="LibSepFmap.html#A:30"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:30"><span class="id" title="variable">A</span></a>) ⇒ <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:32"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:33"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
</div>

<div class="doc">
Filter the bindings of a map 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_filter" class="idref" href="#map_filter"><span class="id" title="definition">map_filter</span></a> <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a> <a id="B:35" class="idref" href="#B:35"><span class="id" title="binder">B</span></a> (<a id="F:36" class="idref" href="#F:36"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B:35"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) (<a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a>:<a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:34"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:35"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:34"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:35"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:34"><span class="id" title="variable">A</span></a>) ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="LibSepFmap.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="LibSepFmap.html#x:38"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <span class="id" title="notation">If</span> <a class="idref" href="LibSepFmap.html#F:36"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#x:38"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="notation">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> <span class="id" title="notation">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
Map a function on the values of a map 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_map" class="idref" href="#map_map"><span class="id" title="definition">map_map</span></a> <a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a> <a id="B<sub>1</sub>:40" class="idref" href="#B<sub>1</sub>:40"><span class="id" title="binder">B<sub>1</sub></span></a> <a id="B<sub>2</sub>:41" class="idref" href="#B<sub>2</sub>:41"><span class="id" title="binder">B<sub>2</sub></span></a> (<a id="F:42" class="idref" href="#F:42"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#A:39"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B<sub>1</sub>:40"><span class="id" title="variable">B<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B<sub>2</sub>:41"><span class="id" title="variable">B<sub>2</sub></span></a>) (<a id="f:43" class="idref" href="#f:43"><span class="id" title="binder">f</span></a>:<a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B<sub>1</sub>:40"><span class="id" title="variable">B<sub>1</sub></span></a>) : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:39"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B<sub>2</sub>:41"><span class="id" title="variable">B<sub>2</sub></span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:39"><span class="id" title="variable">A</span></a>) ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="LibSepFmap.html#f:43"><span class="id" title="variable">f</span></a> <a class="idref" href="LibSepFmap.html#x:44"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="LibSepFmap.html#F:42"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#x:44"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab583"></a><h3 class="section">Properties</h3>

</div>
<div class="code">

<span class="id" title="keyword">Section</span> <a id="MapOps" class="idref" href="#MapOps"><span class="id" title="section">MapOps</span></a>.<br/>
<span class="id" title="keyword">Variables</span> (<a id="MapOps.A" class="idref" href="#MapOps.A"><span class="id" title="variable">A</span></a> <a id="MapOps.B" class="idref" href="#MapOps.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#MapOps.A"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#MapOps.B"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
Symmetry of disjointness 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="map_disjoint_sym" class="idref" href="#map_disjoint_sym"><span class="id" title="lemma">map_disjoint_sym</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">sym</span> (@<a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> <a class="idref" href="LibSepFmap.html#MapOps.A"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#MapOps.B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">H</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Commutativity of disjoint union 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="map_union_comm" class="idref" href="#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:47" class="idref" href="#f<sub>1</sub>:47"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:48" class="idref" href="#f<sub>2</sub>:48"><span class="id" title="binder">f<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:47"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:48"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:47"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:48"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:48"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:47"><span class="id" title="variable">f<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">extens</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>. <span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">x</span>); <span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Finiteness of union 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="map_union_finite" class="idref" href="#map_union_finite"><span class="id" title="lemma">map_union_finite</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:49" class="idref" href="#f<sub>1</sub>:49"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:50" class="idref" href="#f<sub>2</sub>:50"><span class="id" title="binder">f<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:49"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:50"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> (<a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:49"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:50"><span class="id" title="variable">f<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> [<span class="id" title="var">L<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">L<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>]. <span class="id" title="tactic">∃</span> (<span class="id" title="var">L<sub>1</sub></span> <span class="id" title="notation">++</span> <span class="id" title="var">L<sub>2</sub></span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">F<sub>1</sub></span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">F<sub>2</sub></span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">mem_app</span>. <span class="id" title="tactic">destruct</span>¬(<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Finiteness of removal 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_remove_finite" class="idref" href="#map_remove_finite"><span class="id" title="definition">map_remove_finite</span></a> : <span class="id" title="keyword">∀</span> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> <a id="f:52" class="idref" href="#f:52"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#f:52"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> (<a class="idref" href="LibSepFmap.html#map_remove"><span class="id" title="definition">map_remove</span></a> <a class="idref" href="LibSepFmap.html#f:52"><span class="id" title="variable">f</span></a> <a class="idref" href="LibSepFmap.html#x:51"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> [<span class="id" title="var">L</span> <span class="id" title="var">F</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">F</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_remove"><span class="id" title="definition">map_remove</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>. <span class="id" title="var">case_if</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Finiteness of filter 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_filter_finite" class="idref" href="#map_filter_finite"><span class="id" title="definition">map_filter_finite</span></a> : <span class="id" title="keyword">∀</span> (<a id="F:53" class="idref" href="#F:53"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#MapOps.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#MapOps.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) <a id="f:54" class="idref" href="#f:54"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> (<a class="idref" href="LibSepFmap.html#map_filter"><span class="id" title="definition">map_filter</span></a> <a class="idref" href="LibSepFmap.html#F:53"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#f:54"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> [<span class="id" title="var">L</span> <span class="id" title="var">N</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">N</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_filter"><span class="id" title="definition">map_filter</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="var">case_if</span>. <span class="id" title="var">applys</span> <span class="id" title="var">N</span>; <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Finiteness of map 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="map_map_finite" class="idref" href="#map_map_finite"><span class="id" title="definition">map_map_finite</span></a> : <span class="id" title="keyword">∀</span> <a id="C:55" class="idref" href="#C:55"><span class="id" title="binder">C</span></a> (<a id="F:56" class="idref" href="#F:56"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#MapOps.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#MapOps.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#C:55"><span class="id" title="variable">C</span></a>) <a id="f:57" class="idref" href="#f:57"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#f:57"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> (<a class="idref" href="LibSepFmap.html#map_map"><span class="id" title="definition">map_map</span></a> <a class="idref" href="LibSepFmap.html#F:56"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#f:57"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> [<span class="id" title="var">L</span> <span class="id" title="var">N</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">N</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_map"><span class="id" title="definition">map_map</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>); <span class="id" title="var">tryfalse</span>. <span class="id" title="var">applys</span> <span class="id" title="var">N</span>; <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#MapOps"><span class="id" title="section">MapOps</span></a>.<br/>
</div>

<div class="doc">
<a id="lab584"></a><h2 class="section">Representation of Finite Maps as Dependent Pairs</h2>

</div>

<div class="doc">
<a id="lab585"></a><h3 class="section">Representation</h3>

</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="fmap" class="idref" href="#fmap"><span class="id" title="record">fmap</span></a> (<a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a> <a id="B:59" class="idref" href="#B:59"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> := <a id="make" class="idref" href="#make"><span class="id" title="constructor">make</span></a> {<br/>
&nbsp;&nbsp;<a id="fmap_data" class="idref" href="#fmap_data"><span class="id" title="projection">fmap_data</span></a> :&gt; <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#A:58"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:59"><span class="id" title="variable">B</span></a>;<br/>
&nbsp;&nbsp;<a id="fmap_finite" class="idref" href="#fmap_finite"><span class="id" title="projection">fmap_finite</span></a> : <a class="idref" href="LibSepFmap.html#map_finite"><span class="id" title="definition">map_finite</span></a> <a class="idref" href="LibSepFmap.html#fmap_data:61"><span class="id" title="method">fmap_data</span></a> }.<br/><hr class='doublespaceincode'/>
<span class="id" title="var">Arguments</span> <a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> [<span class="id" title="var">A</span>] [<span class="id" title="var">B</span>].<br/>
</div>

<div class="doc">
<a id="lab586"></a><h3 class="section">Operations</h3>

</div>
<div class="code">

<span class="id" title="var">Declare</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">fmap_scope</span>.<br/>
</div>

<div class="doc">
Domain of a fmap (as a predicate) 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="indom" class="idref" href="#indom"><span class="id" title="definition">indom</span></a> (<a id="A:63" class="idref" href="#A:63"><span class="id" title="binder">A</span></a> <a id="B:64" class="idref" href="#B:64"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="h:65" class="idref" href="#h:65"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:63"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:64"><span class="id" title="variable">B</span></a>) : (<a class="idref" href="LibSepFmap.html#A:63"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a> <a class="idref" href="LibSepFmap.html#h:65"><span class="id" title="variable">h</span></a>.<br/>
</div>

<div class="doc">
Empty fmap 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="empty" class="idref" href="#empty"><span class="id" title="definition">empty</span></a> (<a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a> <a id="B:67" class="idref" href="#B:67"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:67"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<span class="id" title="keyword">fun</span> <a id="l:68" class="idref" href="#l:68"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">∃</span> (@<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">A</span>). <span class="id" title="var">auto_false</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="var">Arguments</span> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">B</span>}.<br/>
</div>

<div class="doc">
Singleton fmap 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="single" class="idref" href="#single"><span class="id" title="definition">single</span></a> <a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> <a id="B:70" class="idref" href="#B:70"><span class="id" title="binder">B</span></a> (<a id="x:71" class="idref" href="#x:71"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:69"><span class="id" title="variable">A</span></a>) (<a id="v:72" class="idref" href="#v:72"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepFmap.html#B:70"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:69"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:70"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<span class="id" title="keyword">fun</span> <a id="x':73" class="idref" href="#x':73"><span class="id" title="binder">x'</span></a> ⇒ <span class="id" title="notation">If</span> <a class="idref" href="LibSepFmap.html#x:71"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#x':73"><span class="id" title="variable">x'</span></a> <span class="id" title="notation">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="LibSepFmap.html#v:72"><span class="id" title="variable">v</span></a> <span class="id" title="notation">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">x</span><span class="id" title="notation">::</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>). <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_if</span>. <span class="id" title="tactic">subst</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Union of fmaps 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="union" class="idref" href="#union"><span class="id" title="definition">union</span></a> <a id="A:74" class="idref" href="#A:74"><span class="id" title="binder">A</span></a> <a id="B:75" class="idref" href="#B:75"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:76" class="idref" href="#h<sub>1</sub>:76"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:77" class="idref" href="#h<sub>2</sub>:77"><span class="id" title="binder">h<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:74"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:75"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:74"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:75"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:76"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:77"><span class="id" title="variable">h<sub>2</sub></span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h<sub>1</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h<sub>2</sub></span>. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#map_union_finite"><span class="id" title="lemma">map_union_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="56e77046959d53f4c7feac55396eb3b<sub>1</sub>" class="idref" href="#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">&quot;</span></a>h<sub>1</sub> \+ h<sub>2</sub>" := (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">fmap_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">fmap_scope</span>.<br/>
</div>

<div class="doc">
Update of a fmap 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="update" class="idref" href="#update"><span class="id" title="definition">update</span></a> <a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> <a id="B:79" class="idref" href="#B:79"><span class="id" title="binder">B</span></a> (<a id="h:80" class="idref" href="#h:80"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:79"><span class="id" title="variable">B</span></a>) (<a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:78"><span class="id" title="variable">A</span></a>) (<a id="v:82" class="idref" href="#v:82"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepFmap.html#B:79"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:79"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:82"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#h:80"><span class="id" title="variable">h</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Note:&nbsp;the&nbsp;union&nbsp;operation&nbsp;first&nbsp;reads&nbsp;in&nbsp;the&nbsp;first&nbsp;argument.&nbsp;*)</span><br/>
</div>

<div class="doc">
Read in a fmap 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="read" class="idref" href="#read"><span class="id" title="definition">read</span></a> (<a id="A:83" class="idref" href="#A:83"><span class="id" title="binder">A</span></a> <a id="B:84" class="idref" href="#B:84"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) {<a id="IB:85" class="idref" href="#IB:85"><span class="id" title="binder">IB</span></a>:<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#B:84"><span class="id" title="variable">B</span></a>} (<a id="h:86" class="idref" href="#h:86"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:83"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:84"><span class="id" title="variable">B</span></a>) (<a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:83"><span class="id" title="variable">A</span></a>) : <a class="idref" href="LibSepFmap.html#B:84"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <a class="idref" href="LibSepFmap.html#h:86"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#x:87"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> ⇒ <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="definition">arbitrary</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
Removal from a fmap 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="remove" class="idref" href="#remove"><span class="id" title="definition">remove</span></a> <a id="A:88" class="idref" href="#A:88"><span class="id" title="binder">A</span></a> <a id="B:89" class="idref" href="#B:89"><span class="id" title="binder">B</span></a> (<a id="h:90" class="idref" href="#h:90"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:88"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:89"><span class="id" title="variable">B</span></a>) (<a id="x:91" class="idref" href="#x:91"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#A:88"><span class="id" title="variable">A</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:88"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:89"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<a class="idref" href="LibSepFmap.html#map_remove"><span class="id" title="definition">map_remove</span></a> <a class="idref" href="LibSepFmap.html#h:90"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#x:91"><span class="id" title="variable">x</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#map_remove_finite"><span class="id" title="definition">map_remove_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Filter from a fmap 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="filter" class="idref" href="#filter"><span class="id" title="definition">filter</span></a> <a id="A:92" class="idref" href="#A:92"><span class="id" title="binder">A</span></a> <a id="B:93" class="idref" href="#B:93"><span class="id" title="binder">B</span></a> (<a id="F:94" class="idref" href="#F:94"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#A:92"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B:93"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) (<a id="h:95" class="idref" href="#h:95"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:92"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:93"><span class="id" title="variable">B</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:92"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:93"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<a class="idref" href="LibSepFmap.html#map_filter"><span class="id" title="definition">map_filter</span></a> <a class="idref" href="LibSepFmap.html#F:94"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#h:95"><span class="id" title="variable">h</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#map_filter_finite"><span class="id" title="definition">map_filter_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Map a function onto the keys of a fmap 
</div>
<div class="code">

<span class="id" title="keyword">Program Definition</span> <a id="map_" class="idref" href="#map_"><span class="id" title="definition">map_</span></a> <a id="A:96" class="idref" href="#A:96"><span class="id" title="binder">A</span></a> <a id="B<sub>1</sub>:97" class="idref" href="#B<sub>1</sub>:97"><span class="id" title="binder">B<sub>1</sub></span></a> <a id="B<sub>2</sub>:98" class="idref" href="#B<sub>2</sub>:98"><span class="id" title="binder">B<sub>2</sub></span></a> (<a id="F:99" class="idref" href="#F:99"><span class="id" title="binder">F</span></a>:<a class="idref" href="LibSepFmap.html#A:96"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B<sub>1</sub>:97"><span class="id" title="variable">B<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepFmap.html#B<sub>2</sub>:98"><span class="id" title="variable">B<sub>2</sub></span></a>) (<a id="h:100" class="idref" href="#h:100"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:96"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B<sub>1</sub>:97"><span class="id" title="variable">B<sub>1</sub></span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:96"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B<sub>2</sub>:98"><span class="id" title="variable">B<sub>2</sub></span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> (<a class="idref" href="LibSepFmap.html#map_map"><span class="id" title="definition">map_map</span></a> <a class="idref" href="LibSepFmap.html#F:99"><span class="id" title="variable">F</span></a> <a class="idref" href="LibSepFmap.html#h:100"><span class="id" title="variable">h</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#map_map_finite"><span class="id" title="definition">map_map_finite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Inhabited type <span class="inlinecode"><span class="id" title="var">fmap</span></span> 
</div>
<div class="code">

<span class="id" title="keyword">Global Instance</span> <a id="Inhab_fmap" class="idref" href="#Inhab_fmap"><span class="id" title="instance">Inhab_fmap</span></a> <a id="A:101" class="idref" href="#A:101"><span class="id" title="binder">A</span></a> <a id="B:102" class="idref" href="#B:102"><span class="id" title="binder">B</span></a> : <span class="id" title="class">Inhab</span> (<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:101"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:102"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">applys</span> <span class="id" title="lemma">Inhab_of_val</span> (@<a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>). <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab587"></a><h2 class="section">Predicates on Finite Maps</h2>

<div class="paragraph"> </div>

 Compatible fmaps (only for Separation Logic with RO-permissions) 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="agree" class="idref" href="#agree"><span class="id" title="definition">agree</span></a> <a id="A:103" class="idref" href="#A:103"><span class="id" title="binder">A</span></a> <a id="B:104" class="idref" href="#B:104"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:105" class="idref" href="#h<sub>1</sub>:105"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:106" class="idref" href="#h<sub>2</sub>:106"><span class="id" title="binder">h<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:103"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:104"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_agree"><span class="id" title="definition">map_agree</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:105"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:106"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
Disjoint fmaps 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="disjoint" class="idref" href="#disjoint"><span class="id" title="definition">disjoint</span></a> <a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> <a id="B:108" class="idref" href="#B:108"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:109" class="idref" href="#h<sub>1</sub>:109"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:110" class="idref" href="#h<sub>2</sub>:110"><span class="id" title="binder">h<sub>2</sub></span></a> : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:108"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:109"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:110"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
Three disjoint fmaps (not needed for basic separation logic) 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="disjoint_3" class="idref" href="#disjoint_3"><span class="id" title="definition">disjoint_3</span></a> <a id="A:111" class="idref" href="#A:111"><span class="id" title="binder">A</span></a> <a id="B:112" class="idref" href="#B:112"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:113" class="idref" href="#h<sub>1</sub>:113"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:114" class="idref" href="#h<sub>2</sub>:114"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:115" class="idref" href="#h<sub>3</sub>:115"><span class="id" title="binder">h<sub>3</sub></span></a> : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:111"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:112"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:113"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:114"><span class="id" title="variable">h<sub>2</sub></span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:114"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:115"><span class="id" title="variable">h<sub>3</sub></span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:113"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:115"><span class="id" title="variable">h<sub>3</sub></span></a>.<br/>
</div>

<div class="doc">
Notation for disjointness 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="NotationForFmapDisjoint" class="idref" href="#NotationForFmapDisjoint"><span class="id" title="module">NotationForFmapDisjoint</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="0bbe997a7c7c5a530609d9c93466d8ab" class="idref" href="#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">&quot;</span></a>\# h<sub>1</sub> h<sub>2</sub>" := (<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">fmap_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="3e33a9200864b8721de8c442dd0d9d<sub>81</sub>" class="idref" href="#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">&quot;</span></a>\# h<sub>1</sub> h<sub>2</sub> h<sub>3</sub>" := (<a class="idref" href="LibSepFmap.html#disjoint_3"><span class="id" title="definition">disjoint_3</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="var">h<sub>3</sub></span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">h<sub>3</sub></span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">fmap_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#NotationForFmapDisjoint"><span class="id" title="module">NotationForFmapDisjoint</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">NotationForFmapDisjoint</span>.<br/>
</div>

<div class="doc">
<a id="lab588"></a><h1 class="section">Poperties of Operations on Finite Maps</h1>

</div>
<div class="code">

<span class="id" title="keyword">Section</span> <a id="FmapProp" class="idref" href="#FmapProp"><span class="id" title="section">FmapProp</span></a>.<br/>
<span class="id" title="keyword">Variables</span> (<a id="FmapProp.A" class="idref" href="#FmapProp.A"><span class="id" title="variable">A</span></a> <a id="FmapProp.B" class="idref" href="#FmapProp.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#FmapProp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> : <a class="idref" href="LibSepFmap.html#FmapProp.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
<a id="lab589"></a><h2 class="section">Equality</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="make_eq" class="idref" href="#make_eq"><span class="id" title="lemma">make_eq</span></a> : <span class="id" title="keyword">∀</span> (<a id="f<sub>1</sub>:118" class="idref" href="#f<sub>1</sub>:118"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:119" class="idref" href="#f<sub>2</sub>:119"><span class="id" title="binder">f<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="LibSepFmap.html#FmapProp.A"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>) <a id="F<sub>1</sub>:120" class="idref" href="#F<sub>1</sub>:120"><span class="id" title="binder">F<sub>1</sub></span></a> <a id="F<sub>2</sub>:121" class="idref" href="#F<sub>2</sub>:121"><span class="id" title="binder">F<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:122" class="idref" href="#x:122"><span class="id" title="binder">x</span></a>, <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:118"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:122"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:119"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:122"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:118"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#F<sub>1</sub>:120"><span class="id" title="variable">F<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#make"><span class="id" title="constructor">make</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:119"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#F<sub>2</sub>:121"><span class="id" title="variable">F<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>. <span class="id" title="var">asserts</span>: (<span class="id" title="var">f<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f<sub>2</sub></span>). { <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map"><span class="id" title="definition">map</span></a>. <span class="id" title="var">extens</span>¬. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">fequals</span>. <span class="comment">(*&nbsp;note:&nbsp;involves&nbsp;proof&nbsp;irrelevance&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="eq_inv_fmap_data_eq" class="idref" href="#eq_inv_fmap_data_eq"><span class="id" title="lemma">eq_inv_fmap_data_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:123" class="idref" href="#h<sub>1</sub>:123"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:124" class="idref" href="#h<sub>2</sub>:124"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:123"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:124"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a>, <a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:123"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:124"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:125"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">fequals</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="fmap_extens" class="idref" href="#fmap_extens"><span class="id" title="lemma">fmap_extens</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:126" class="idref" href="#h<sub>1</sub>:126"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:127" class="idref" href="#h<sub>2</sub>:127"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a>, <a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:126"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:127"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:128"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:126"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:127"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] <span class="id" title="var">M</span>. <span class="id" title="var">simpls</span>. <span class="id" title="var">applys</span>¬<a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab590"></a><h2 class="section">Disjointness</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="disjoint_sym" class="idref" href="#disjoint_sym"><span class="id" title="lemma">disjoint_sym</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:129" class="idref" href="#h<sub>1</sub>:129"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:130" class="idref" href="#h<sub>2</sub>:130"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:129"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:130"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:130"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:129"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#map_disjoint_sym"><span class="id" title="lemma">map_disjoint_sym</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_comm" class="idref" href="#disjoint_comm"><span class="id" title="lemma">disjoint_comm</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:131" class="idref" href="#h<sub>1</sub>:131"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:132" class="idref" href="#h<sub>2</sub>:132"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:131"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:132"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:132"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:131"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">lets</span>: <a class="idref" href="LibSepFmap.html#disjoint_sym"><span class="id" title="lemma">disjoint_sym</span></a>. <span class="id" title="var">extens</span>*. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_empty_l" class="idref" href="#disjoint_empty_l"><span class="id" title="lemma">disjoint_empty_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h:133" class="idref" href="#h:133"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="LibSepFmap.html#h:133"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>] <span class="id" title="var">x</span>. <span class="id" title="tactic">simple</span>¬. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_empty_r" class="idref" href="#disjoint_empty_r"><span class="id" title="lemma">disjoint_empty_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h:134" class="idref" href="#h:134"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h:134"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>] <span class="id" title="var">x</span>. <span class="id" title="tactic">simple</span>¬. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">disjoint_sym</span> <span class="id" title="var">disjoint_empty_l</span> <span class="id" title="var">disjoint_empty_r</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_union_eq_r" class="idref" href="#disjoint_union_eq_r"><span class="id" title="lemma">disjoint_union_eq_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:135" class="idref" href="#h<sub>1</sub>:135"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:136" class="idref" href="#h<sub>2</sub>:136"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:137" class="idref" href="#h<sub>3</sub>:137"><span class="id" title="binder">h<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:135"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>2</sub>:136"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:137"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:135"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:136"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:135"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:137"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] [<span class="id" title="var">f<sub>3</sub></span> <span class="id" title="var">F<sub>3</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="var">extens</span>. <span class="id" title="var">iff</span> <span class="id" title="var">M</span> [<span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="var">specializes</span> <span class="id" title="var">M</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">x</span>); <span class="id" title="tactic">intuition</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">M<sub>2</sub></span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">x</span>); <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_union_eq_l" class="idref" href="#disjoint_union_eq_l"><span class="id" title="lemma">disjoint_union_eq_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:138" class="idref" href="#h<sub>1</sub>:138"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:139" class="idref" href="#h<sub>2</sub>:139"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:140" class="idref" href="#h<sub>3</sub>:140"><span class="id" title="binder">h<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>2</sub>:139"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:140"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:138"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:138"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:139"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:138"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:140"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#disjoint_comm"><span class="id" title="lemma">disjoint_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#disjoint_union_eq_r"><span class="id" title="lemma">disjoint_union_eq_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_single_single" class="idref" href="#disjoint_single_single"><span class="id" title="lemma">disjoint_single_single</span></a> : <span class="id" title="keyword">∀</span> (<a id="x<sub>1</sub>:141" class="idref" href="#x<sub>1</sub>:141"><span class="id" title="binder">x<sub>1</sub></span></a> <a id="x<sub>2</sub>:142" class="idref" href="#x<sub>2</sub>:142"><span class="id" title="binder">x<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#FmapProp.A"><span class="id" title="variable">A</span></a>) (<a id="v<sub>1</sub>:143" class="idref" href="#v<sub>1</sub>:143"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:144" class="idref" href="#v<sub>2</sub>:144"><span class="id" title="binder">v<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#x<sub>1</sub>:141"><span class="id" title="variable">x<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#x<sub>2</sub>:142"><span class="id" title="variable">x<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x<sub>1</sub>:141"><span class="id" title="variable">x<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#v<sub>1</sub>:143"><span class="id" title="variable">v<sub>1</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x<sub>2</sub>:142"><span class="id" title="variable">x<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#v<sub>2</sub>:144"><span class="id" title="variable">v<sub>2</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">simpls</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">case_if</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_single_single_same_inv" class="idref" href="#disjoint_single_single_same_inv"><span class="id" title="lemma">disjoint_single_single_same_inv</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a>:<a class="idref" href="LibSepFmap.html#FmapProp.A"><span class="id" title="variable">A</span></a>) (<a id="v<sub>1</sub>:146" class="idref" href="#v<sub>1</sub>:146"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:147" class="idref" href="#v<sub>2</sub>:147"><span class="id" title="binder">v<sub>2</sub></span></a>:<a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v<sub>1</sub>:146"><span class="id" title="variable">v<sub>1</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v<sub>2</sub>:147"><span class="id" title="variable">v<sub>2</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">D</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">D</span> <span class="id" title="var">x</span>. <span class="id" title="var">simpls</span>. <span class="id" title="var">case_if</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">D</span>; <span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_3_unfold" class="idref" href="#disjoint_3_unfold"><span class="id" title="lemma">disjoint_3_unfold</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:148" class="idref" href="#h<sub>1</sub>:148"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:149" class="idref" href="#h<sub>2</sub>:149"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:150" class="idref" href="#h<sub>3</sub>:150"><span class="id" title="binder">h<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:148"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:149"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:150"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:148"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:149"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:149"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:150"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:148"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:150"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_single_set" class="idref" href="#disjoint_single_set"><span class="id" title="lemma">disjoint_single_set</span></a> : <span class="id" title="keyword">∀</span> <a id="h:151" class="idref" href="#h:151"><span class="id" title="binder">h</span></a> <a id="l:152" class="idref" href="#l:152"><span class="id" title="binder">l</span></a> <a id="v<sub>1</sub>:153" class="idref" href="#v<sub>1</sub>:153"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:154" class="idref" href="#v<sub>2</sub>:154"><span class="id" title="binder">v<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v<sub>1</sub>:153"><span class="id" title="variable">v<sub>1</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h:151"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v<sub>2</sub>:154"><span class="id" title="variable">v<sub>2</sub></span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h:151"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a>, <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a>, <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">M</span> <span class="id" title="var">l'</span>. <span class="id" title="var">case_if</span>¬. <span class="id" title="tactic">destruct</span> <span class="id" title="var">M</span>; <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab591"></a><h2 class="section">Union</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="union_self" class="idref" href="#union_self"><span class="id" title="lemma">union_self</span></a> : <span class="id" title="keyword">∀</span> <a id="h:155" class="idref" href="#h:155"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h:155"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h:155"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h:155"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>]. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="var">cases</span>¬(<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_empty_l" class="idref" href="#union_empty_l"><span class="id" title="lemma">union_empty_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h:156" class="idref" href="#h:156"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h:156"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h:156"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_empty_r" class="idref" href="#union_empty_r"><span class="id" title="lemma">union_empty_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h:157" class="idref" href="#h:157"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h:157"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h:157"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span>¬(<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_empty_inv_l" class="idref" href="#union_eq_empty_inv_l"><span class="id" title="lemma">union_eq_empty_inv_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:158" class="idref" href="#h<sub>1</sub>:158"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:159" class="idref" href="#h<sub>2</sub>:159"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:158"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:159"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:158"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">f<sub>1</sub></span>&amp;<span class="id" title="var">F<sub>1</sub></span>) (<span class="id" title="var">f<sub>2</sub></span>&amp;<span class="id" title="var">F<sub>2</sub></span>) <span class="id" title="var">M</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="lemma">fun_eq_1</span> <span class="id" title="var">l</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">l</span>); <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_empty_inv_r" class="idref" href="#union_eq_empty_inv_r"><span class="id" title="lemma">union_eq_empty_inv_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:160" class="idref" href="#h<sub>1</sub>:160"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:161" class="idref" href="#h<sub>2</sub>:161"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:160"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:161"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:161"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">f<sub>1</sub></span>&amp;<span class="id" title="var">F<sub>1</sub></span>) (<span class="id" title="var">f<sub>2</sub></span>&amp;<span class="id" title="var">F<sub>2</sub></span>) <span class="id" title="var">M</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="lemma">fun_eq_1</span> <span class="id" title="var">l</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">l</span>); <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_comm_of_disjoint" class="idref" href="#union_comm_of_disjoint"><span class="id" title="lemma">union_comm_of_disjoint</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:162" class="idref" href="#h<sub>1</sub>:162"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:163" class="idref" href="#h<sub>2</sub>:163"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:162"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:163"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:162"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:163"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:163"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:162"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] <span class="id" title="var">H</span>. <span class="id" title="var">simpls</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span>¬<a class="idref" href="LibSepFmap.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_comm_of_agree" class="idref" href="#union_comm_of_agree"><span class="id" title="lemma">union_comm_of_agree</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:164" class="idref" href="#h<sub>1</sub>:164"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:165" class="idref" href="#h<sub>2</sub>:165"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:164"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:165"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:164"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:165"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:165"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:164"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] <span class="id" title="var">H</span>. <span class="id" title="var">simpls</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">H</span> <span class="id" title="var">l</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">l</span>); <span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="var">fequals</span>. <span class="id" title="var">applys</span>* <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_assoc" class="idref" href="#union_assoc"><span class="id" title="lemma">union_assoc</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:166" class="idref" href="#h<sub>1</sub>:166"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:167" class="idref" href="#h<sub>2</sub>:167"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:168" class="idref" href="#h<sub>3</sub>:168"><span class="id" title="binder">h<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>:166"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:167"><span class="id" title="variable">h<sub>2</sub></span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:168"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:166"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>2</sub>:167"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:168"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] [<span class="id" title="var">f<sub>3</sub></span> <span class="id" title="var">F<sub>3</sub></span>]. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">destruct</span>¬(<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_inv_of_disjoint" class="idref" href="#union_eq_inv_of_disjoint"><span class="id" title="lemma">union_eq_inv_of_disjoint</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>2</sub>:169" class="idref" href="#h<sub>2</sub>:169"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>1</sub>:170" class="idref" href="#h<sub>1</sub>:170"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':171" class="idref" href="#h<sub>1</sub>':171"><span class="id" title="binder">h<sub>1</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:170"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:169"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':171"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:169"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:170"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:169"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':171"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:169"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:170"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':171"><span class="id" title="variable">h<sub>1</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">F<sub>2</sub></span>] [<span class="id" title="var">f<sub>1</sub>'</span> <span class="id" title="var">F<sub>1</sub>'</span>] [<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">F<sub>1</sub></span>] <span class="id" title="var">D</span> <span class="id" title="var">D'</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">D</span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">D'</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">E'</span>: <a class="idref" href="LibSepFmap.html#eq_inv_fmap_data_eq"><span class="id" title="lemma">eq_inv_fmap_data_eq</span></a> (<span class="id" title="definition">rm</span> <span class="id" title="var">E</span>) <span class="id" title="var">x</span>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub>'</span> <span class="id" title="var">x</span>); <span class="id" title="var">cases</span> (<span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">D</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">D'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab592"></a><h2 class="section">Compatibility</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="agree_refl" class="idref" href="#agree_refl"><span class="id" title="lemma">agree_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="h:172" class="idref" href="#h:172"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#h:172"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#h:172"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_sym" class="idref" href="#agree_sym"><span class="id" title="lemma">agree_sym</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:173" class="idref" href="#f<sub>1</sub>:173"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:174" class="idref" href="#f<sub>2</sub>:174"><span class="id" title="binder">f<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:173"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:174"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:174"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:173"><span class="id" title="variable">f<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">E<sub>1</sub></span> <span class="id" title="var">E<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">M</span> <span class="id" title="var">l</span> <span class="id" title="var">E<sub>1</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_of_disjoint" class="idref" href="#agree_of_disjoint"><span class="id" title="lemma">agree_of_disjoint</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:175" class="idref" href="#h<sub>1</sub>:175"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:176" class="idref" href="#h<sub>2</sub>:176"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:175"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:176"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:175"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:176"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HD</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">HD</span> <span class="id" title="var">l</span>); <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_empty_l" class="idref" href="#agree_empty_l"><span class="id" title="lemma">agree_empty_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h:177" class="idref" href="#h:177"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="LibSepFmap.html#h:177"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">l</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">E<sub>1</sub></span> <span class="id" title="var">E<sub>2</sub></span>. <span class="id" title="var">simpls</span>. <span class="id" title="var">false</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_empty_r" class="idref" href="#agree_empty_r"><span class="id" title="lemma">agree_empty_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h:178" class="idref" href="#h:178"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#h:178"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hint</span> <a class="idref" href="LibSepFmap.html#agree_sym"><span class="id" title="lemma">agree_sym</span></a>, <a class="idref" href="LibSepFmap.html#agree_empty_l"><span class="id" title="lemma">agree_empty_l</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_l" class="idref" href="#agree_union_l"><span class="id" title="lemma">agree_union_l</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:179" class="idref" href="#f<sub>1</sub>:179"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:180" class="idref" href="#f<sub>2</sub>:180"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:181" class="idref" href="#f<sub>3</sub>:181"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:179"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:181"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:180"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:181"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> (<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:179"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:180"><span class="id" title="variable">f<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:181"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">E<sub>1</sub></span> <span class="id" title="var">E<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">l</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">M<sub>2</sub></span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simpls</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="var">cases</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">inverts</span> <span class="id" title="var">E<sub>1</sub></span>. <span class="id" title="var">applys</span>* <span class="id" title="var">M<sub>1</sub></span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">applys</span>* <span class="id" title="var">M<sub>2</sub></span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_r" class="idref" href="#agree_union_r"><span class="id" title="lemma">agree_union_r</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:182" class="idref" href="#f<sub>1</sub>:182"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:183" class="idref" href="#f<sub>2</sub>:183"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:184" class="idref" href="#f<sub>3</sub>:184"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:182"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:183"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:182"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:184"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:182"><span class="id" title="variable">f<sub>1</sub></span></a> (<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:183"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:184"><span class="id" title="variable">f<sub>3</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hint</span> <a class="idref" href="LibSepFmap.html#agree_sym"><span class="id" title="lemma">agree_sym</span></a>, <a class="idref" href="LibSepFmap.html#agree_union_l"><span class="id" title="lemma">agree_union_l</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_lr" class="idref" href="#agree_union_lr"><span class="id" title="lemma">agree_union_lr</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:185" class="idref" href="#f<sub>1</sub>:185"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="g<sub>1</sub>:186" class="idref" href="#g<sub>1</sub>:186"><span class="id" title="binder">g<sub>1</sub></span></a> <a id="f<sub>2</sub>:187" class="idref" href="#f<sub>2</sub>:187"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="g<sub>2</sub>:188" class="idref" href="#g<sub>2</sub>:188"><span class="id" title="binder">g<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#g<sub>1</sub>:186"><span class="id" title="variable">g<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#g<sub>2</sub>:188"><span class="id" title="variable">g<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:185"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:187"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#g<sub>1</sub>:186"><span class="id" title="variable">g<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#g<sub>2</sub>:188"><span class="id" title="variable">g<sub>2</sub></span></a><a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> (<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:185"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#g<sub>1</sub>:186"><span class="id" title="variable">g<sub>1</sub></span></a>) (<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:187"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#g<sub>2</sub>:188"><span class="id" title="variable">g<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> (<span class="id" title="var">M2a</span>&amp;<span class="id" title="var">M2b</span>&amp;<span class="id" title="var">M2c</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#disjoint_union_eq_r"><span class="id" title="lemma">disjoint_union_eq_r</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#agree_union_l"><span class="id" title="lemma">agree_union_l</span></a>; <span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#agree_union_r"><span class="id" title="lemma">agree_union_r</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">applys</span>* <a class="idref" href="LibSepFmap.html#agree_of_disjoint"><span class="id" title="lemma">agree_of_disjoint</span></a> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_ll_inv" class="idref" href="#agree_union_ll_inv"><span class="id" title="lemma">agree_union_ll_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:189" class="idref" href="#f<sub>1</sub>:189"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:190" class="idref" href="#f<sub>2</sub>:190"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:191" class="idref" href="#f<sub>3</sub>:191"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> (<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:189"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:190"><span class="id" title="variable">f<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:191"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:189"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:191"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">E<sub>1</sub></span> <span class="id" title="var">E<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">M</span> <span class="id" title="var">l</span>. <span class="id" title="var">simpls</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">E<sub>1</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>. <span class="id" title="var">applys</span>* <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_rl_inv" class="idref" href="#agree_union_rl_inv"><span class="id" title="lemma">agree_union_rl_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:192" class="idref" href="#f<sub>1</sub>:192"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:193" class="idref" href="#f<sub>2</sub>:193"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:194" class="idref" href="#f<sub>3</sub>:194"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:192"><span class="id" title="variable">f<sub>1</sub></span></a> (<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:193"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:194"><span class="id" title="variable">f<sub>3</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:192"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:193"><span class="id" title="variable">f<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hint</span> <a class="idref" href="LibSepFmap.html#agree_union_ll_inv"><span class="id" title="lemma">agree_union_ll_inv</span></a>, <a class="idref" href="LibSepFmap.html#agree_sym"><span class="id" title="lemma">agree_sym</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_lr_inv_agree_agree" class="idref" href="#agree_union_lr_inv_agree_agree"><span class="id" title="lemma">agree_union_lr_inv_agree_agree</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:195" class="idref" href="#f<sub>1</sub>:195"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:196" class="idref" href="#f<sub>2</sub>:196"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:197" class="idref" href="#f<sub>3</sub>:197"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> (<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:195"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:196"><span class="id" title="variable">f<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:197"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:195"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:196"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:196"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:197"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">D</span>. <span class="id" title="tactic">rewrite</span>¬(@<a class="idref" href="LibSepFmap.html#union_comm_of_agree"><span class="id" title="lemma">union_comm_of_agree</span></a> <span class="id" title="var">f<sub>1</sub></span> <span class="id" title="var">f<sub>2</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span>* <a class="idref" href="LibSepFmap.html#agree_union_ll_inv"><span class="id" title="lemma">agree_union_ll_inv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_rr_inv_agree" class="idref" href="#agree_union_rr_inv_agree"><span class="id" title="lemma">agree_union_rr_inv_agree</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:198" class="idref" href="#f<sub>1</sub>:198"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:199" class="idref" href="#f<sub>2</sub>:199"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:200" class="idref" href="#f<sub>3</sub>:200"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:198"><span class="id" title="variable">f<sub>1</sub></span></a> (<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:199"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:200"><span class="id" title="variable">f<sub>3</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:199"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:200"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:198"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:200"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hint</span> <a class="idref" href="LibSepFmap.html#agree_union_lr_inv_agree_agree"><span class="id" title="lemma">agree_union_lr_inv_agree_agree</span></a>, <a class="idref" href="LibSepFmap.html#agree_sym"><span class="id" title="lemma">agree_sym</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_l_inv" class="idref" href="#agree_union_l_inv"><span class="id" title="lemma">agree_union_l_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:201" class="idref" href="#f<sub>1</sub>:201"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:202" class="idref" href="#f<sub>2</sub>:202"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:203" class="idref" href="#f<sub>3</sub>:203"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> (<a class="idref" href="LibSepFmap.html#f<sub>1</sub>:201"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:202"><span class="id" title="variable">f<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:203"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:201"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:202"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:201"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:203"><span class="id" title="variable">f<sub>3</sub></span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:202"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:203"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">applys</span>* <a class="idref" href="LibSepFmap.html#agree_union_ll_inv"><span class="id" title="lemma">agree_union_ll_inv</span></a>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">applys</span>* <a class="idref" href="LibSepFmap.html#agree_union_lr_inv_agree_agree"><span class="id" title="lemma">agree_union_lr_inv_agree_agree</span></a>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="agree_union_r_inv" class="idref" href="#agree_union_r_inv"><span class="id" title="lemma">agree_union_r_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="f<sub>1</sub>:204" class="idref" href="#f<sub>1</sub>:204"><span class="id" title="binder">f<sub>1</sub></span></a> <a id="f<sub>2</sub>:205" class="idref" href="#f<sub>2</sub>:205"><span class="id" title="binder">f<sub>2</sub></span></a> <a id="f<sub>3</sub>:206" class="idref" href="#f<sub>3</sub>:206"><span class="id" title="binder">f<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:204"><span class="id" title="variable">f<sub>1</sub></span></a> (<a class="idref" href="LibSepFmap.html#f<sub>2</sub>:205"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:206"><span class="id" title="variable">f<sub>3</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:205"><span class="id" title="variable">f<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:206"><span class="id" title="variable">f<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:204"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>2</sub>:205"><span class="id" title="variable">f<sub>2</sub></span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#agree"><span class="id" title="definition">agree</span></a> <a class="idref" href="LibSepFmap.html#f<sub>1</sub>:204"><span class="id" title="variable">f<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#f<sub>3</sub>:206"><span class="id" title="variable">f<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hint</span> <a class="idref" href="LibSepFmap.html#agree_sym"><span class="id" title="lemma">agree_sym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">forwards</span>¬(<span class="id" title="var">M<sub>1</sub></span>&amp;<span class="id" title="var">M<sub>2</sub></span>): <a class="idref" href="LibSepFmap.html#agree_union_l_inv"><span class="id" title="lemma">agree_union_l_inv</span></a> <span class="id" title="var">f<sub>2</sub></span> <span class="id" title="var">f<sub>3</sub></span> <span class="id" title="var">f<sub>1</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab593"></a><h2 class="section">Domain</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="indom_single" class="idref" href="#indom_single"><span class="id" title="lemma">indom_single</span></a> : <span class="id" title="keyword">∀</span> <a id="x:207" class="idref" href="#x:207"><span class="id" title="binder">x</span></a> <a id="v:208" class="idref" href="#v:208"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:207"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:208"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#x:207"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>. <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="indom_union_l" class="idref" href="#indom_union_l"><span class="id" title="lemma">indom_union_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:209" class="idref" href="#h<sub>1</sub>:209"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:210" class="idref" href="#h<sub>2</sub>:210"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:211" class="idref" href="#x:211"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:209"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:211"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:209"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:210"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:211"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">x</span>); <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="indom_union_r" class="idref" href="#indom_union_r"><span class="id" title="lemma">indom_union_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:212" class="idref" href="#h<sub>1</sub>:212"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:213" class="idref" href="#h<sub>2</sub>:213"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:214" class="idref" href="#x:214"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:213"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:214"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:212"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:213"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:214"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">x</span>); <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab594"></a><h2 class="section">Disjoint and Domain</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="disjoint_eq_not_indom_both" class="idref" href="#disjoint_eq_not_indom_both"><span class="id" title="lemma">disjoint_eq_not_indom_both</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:215" class="idref" href="#h<sub>1</sub>:215"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:216" class="idref" href="#h<sub>2</sub>:216"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:215"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:216"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:217" class="idref" href="#x:217"><span class="id" title="binder">x</span></a>, <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:215"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:217"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:216"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:217"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">extens</span>. <span class="id" title="var">iff</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">D</span> <span class="id" title="var">x</span>); <span class="id" title="var">false</span>*. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">specializes</span> <span class="id" title="var">E</span> <span class="id" title="var">x</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a>, <a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">applys</span> <span class="id" title="lemma">not_not_inv</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">N</span>. <span class="id" title="var">rew_logic</span> <span class="id" title="keyword">in</span> <span class="id" title="var">N</span>. <span class="id" title="var">false</span>*. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_of_not_indom_both" class="idref" href="#disjoint_of_not_indom_both"><span class="id" title="lemma">disjoint_of_not_indom_both</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:218" class="idref" href="#h<sub>1</sub>:218"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:219" class="idref" href="#h<sub>2</sub>:219"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder">x</span></a>, <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:218"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:219"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:218"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:219"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="tactic">rewrite</span>¬<a class="idref" href="LibSepFmap.html#disjoint_eq_not_indom_both"><span class="id" title="lemma">disjoint_eq_not_indom_both</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_inv_not_indom_both" class="idref" href="#disjoint_inv_not_indom_both"><span class="id" title="lemma">disjoint_inv_not_indom_both</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:221" class="idref" href="#h<sub>1</sub>:221"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:222" class="idref" href="#h<sub>2</sub>:222"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:223" class="idref" href="#x:223"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:221"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:222"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:221"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:223"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:222"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:223"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span>* <a class="idref" href="LibSepFmap.html#disjoint_eq_not_indom_both"><span class="id" title="lemma">disjoint_eq_not_indom_both</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_single_of_not_indom" class="idref" href="#disjoint_single_of_not_indom"><span class="id" title="lemma">disjoint_single_of_not_indom</span></a> : <span class="id" title="keyword">∀</span> <a id="h:224" class="idref" href="#h:224"><span class="id" title="binder">h</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder">x</span></a> <a id="v:226" class="idref" href="#v:226"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h:224"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:226"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#h:224"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">N</span>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a>, <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a>, <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a>, <a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">rew_logic</span> <span class="id" title="keyword">in</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span>. <span class="id" title="var">case_if</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">autos</span>*.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Note that the reciprocal of the above lemma is a special instance of
   <span class="inlinecode"><span class="id" title="var">disjoint_inv_not_indom_both</span></span> 
</div>

<div class="doc">
<a id="lab595"></a><h2 class="section">Read</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="read_single" class="idref" href="#read_single"><span class="id" title="lemma">read_single</span></a> : <span class="id" title="keyword">∀</span> {<a id="IB:227" class="idref" href="#IB:227"><span class="id" title="binder">IB</span></a>:<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>} <a id="x:228" class="idref" href="#x:228"><span class="id" title="binder">x</span></a> <a id="v:229" class="idref" href="#v:229"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:228"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:229"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#x:228"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#v:229"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a>, <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="read_union_l" class="idref" href="#read_union_l"><span class="id" title="lemma">read_union_l</span></a> : <span class="id" title="keyword">∀</span> {<a id="IB:230" class="idref" href="#IB:230"><span class="id" title="binder">IB</span></a>:<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>} <a id="h<sub>1</sub>:231" class="idref" href="#h<sub>1</sub>:231"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:232" class="idref" href="#h<sub>2</sub>:232"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:231"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:231"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:232"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:231"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:233"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">x</span>); <span class="id" title="var">auto_false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="read_union_r" class="idref" href="#read_union_r"><span class="id" title="lemma">read_union_r</span></a> : <span class="id" title="keyword">∀</span> {<a id="IB:234" class="idref" href="#IB:234"><span class="id" title="binder">IB</span></a>:<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>} <a id="h<sub>1</sub>:235" class="idref" href="#h<sub>1</sub>:235"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:236" class="idref" href="#h<sub>2</sub>:236"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:237" class="idref" href="#x:237"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:235"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:237"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:235"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:236"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:237"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:236"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:237"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#read"><span class="id" title="definition">read</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">false</span> <span class="id" title="var">H</span>. <span class="id" title="var">auto_false</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">auto_false</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab596"></a><h2 class="section">Update</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="update_eq_union_single" class="idref" href="#update_eq_union_single"><span class="id" title="lemma">update_eq_union_single</span></a> : <span class="id" title="keyword">∀</span> <a id="h:238" class="idref" href="#h:238"><span class="id" title="binder">h</span></a> <a id="x:239" class="idref" href="#x:239"><span class="id" title="binder">x</span></a> <a id="v:240" class="idref" href="#v:240"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="LibSepFmap.html#h:238"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#x:239"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:240"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:239"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:240"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#h:238"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="update_single" class="idref" href="#update_single"><span class="id" title="lemma">update_single</span></a> : <span class="id" title="keyword">∀</span> <a id="x:241" class="idref" href="#x:241"><span class="id" title="binder">x</span></a> <a id="v:242" class="idref" href="#v:242"><span class="id" title="binder">v</span></a> <a id="w:243" class="idref" href="#w:243"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:241"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:242"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#x:241"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#w:243"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:241"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#w:243"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#update_eq_union_single"><span class="id" title="lemma">update_eq_union_single</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="update_union_l" class="idref" href="#update_union_l"><span class="id" title="lemma">update_union_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:244" class="idref" href="#h<sub>1</sub>:244"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:245" class="idref" href="#h<sub>2</sub>:245"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:246" class="idref" href="#x:246"><span class="id" title="binder">x</span></a> <a id="v:247" class="idref" href="#v:247"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:244"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:244"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:245"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:247"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> (<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:244"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:247"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:245"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#update_eq_union_single"><span class="id" title="lemma">update_eq_union_single</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="update_union_r" class="idref" href="#update_union_r"><span class="id" title="lemma">update_union_r</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:248" class="idref" href="#h<sub>1</sub>:248"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:249" class="idref" href="#h<sub>2</sub>:249"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="x:250" class="idref" href="#x:250"><span class="id" title="binder">x</span></a> <a id="v:251" class="idref" href="#v:251"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:248"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:248"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:249"><span class="id" title="variable">h<sub>2</sub></span></a>) <a class="idref" href="LibSepFmap.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:251"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:248"><span class="id" title="variable">h<sub>1</sub></span></a> (<a class="idref" href="LibSepFmap.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:249"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:251"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">asserts</span> <span class="id" title="var">IB</span>: (<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#FmapProp.B"><span class="id" title="variable">B</span></a>). { <span class="id" title="var">applys</span> <span class="id" title="lemma">Inhab_of_val</span> <span class="id" title="var">v</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#update_eq_union_single"><span class="id" title="lemma">update_eq_union_single</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#make_eq"><span class="id" title="lemma">make_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="var">case_eq</span> (<a class="idref" href="LibSepFmap.html#fmap_data"><span class="id" title="projection">fmap_data</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">y</span>); <span class="id" title="var">auto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">Hw</span>. <span class="id" title="var">false</span> <span class="id" title="var">M</span>. <span class="id" title="var">auto_false</span>. } }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab597"></a><h2 class="section">Removal</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="remove_union_single_l" class="idref" href="#remove_union_single_l"><span class="id" title="lemma">remove_union_single_l</span></a> : <span class="id" title="keyword">∀</span> <a id="h:252" class="idref" href="#h:252"><span class="id" title="binder">h</span></a> <a id="x:253" class="idref" href="#x:253"><span class="id" title="binder">x</span></a> <a id="v:254" class="idref" href="#v:254"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h:252"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#x:253"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#remove"><span class="id" title="definition">remove</span></a> (<a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a> (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#x:253"><span class="id" title="variable">x</span></a> <a class="idref" href="LibSepFmap.html#v:254"><span class="id" title="variable">v</span></a>) <a class="idref" href="LibSepFmap.html#h:252"><span class="id" title="variable">h</span></a>) <a class="idref" href="LibSepFmap.html#x:253"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h:252"><span class="id" title="variable">h</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#fmap_extens"><span class="id" title="lemma">fmap_extens</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#remove"><span class="id" title="definition">remove</span></a>, <a class="idref" href="LibSepFmap.html#map_remove"><span class="id" title="definition">map_remove</span></a>, <a class="idref" href="LibSepFmap.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>, <a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a>. <span class="id" title="var">simpls</span>. <span class="id" title="var">case_if</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">F</span>]. <span class="id" title="var">unfolds</span> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a>, <a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a>. <span class="id" title="var">simpls</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">rew_logic</span>¬<span class="id" title="keyword">in</span> <span class="id" title="var">M</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">case_if</span>¬. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#FmapProp"><span class="id" title="section">FmapProp</span></a>.<br/>
</div>

<div class="doc">
Fixing arguments 
</div>
<div class="code">

<span class="id" title="var">Arguments</span> <a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> [<span class="id" title="var">A</span>] [<span class="id" title="var">B</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="LibSepFmap.html#union_comm_of_disjoint"><span class="id" title="lemma">union_comm_of_disjoint</span></a> [<span class="id" title="var">A</span>] [<span class="id" title="var">B</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="LibSepFmap.html#union_comm_of_agree"><span class="id" title="lemma">union_comm_of_agree</span></a> [<span class="id" title="var">A</span>] [<span class="id" title="var">B</span>].<br/>
</div>

<div class="doc">
<a id="lab598"></a><h1 class="section">Tactics for Finite Maps</h1>

</div>

<div class="doc">
<a id="lab599"></a><h2 class="section">Tactic <span class="inlinecode"><span class="id" title="var">disjoint</span></span> for proving disjointness results</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">disjoint</span></span> proves goals of the form <span class="inlinecode">\#</span> <span class="inlinecode"><span class="id" title="var">h<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">h<sub>2</sub></span></span> and
    <span class="inlinecode">\#</span> <span class="inlinecode"><span class="id" title="var">h<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">h<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">h<sub>3</sub></span></span> by expanding all hypotheses into binary forms
    <span class="inlinecode">\#</span> <span class="inlinecode"><span class="id" title="var">h<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">h<sub>2</sub></span></span> and then exploiting symmetry and disjointness
    with <span class="inlinecode"><span class="id" title="var">empty</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="DisjointHints" class="idref" href="#DisjointHints"><span class="id" title="module">DisjointHints</span></a>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">disjoint_sym</span> <span class="id" title="var">disjoint_empty_l</span> <span class="id" title="var">disjoint_empty_r</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#DisjointHints"><span class="id" title="module">DisjointHints</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint_union_eq_l"><span class="id" title="lemma">disjoint_union_eq_l</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint_union_eq_r"><span class="id" title="lemma">disjoint_union_eq_r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#disjoint_3_unfold"><span class="id" title="lemma">disjoint_3_unfold</span></a> : <span class="id" title="var">rew_disjoint</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "rew_disjoint" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">rew_disjoint</span> <span class="id" title="keyword">in</span> *.<br/>
<span class="id" title="keyword">Tactic Notation</span> "rew_disjoint" "*" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rew_disjoint</span>; <span class="id" title="var">auto_star</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fmap_disjoint_pre</span> <span class="id" title="var">tt</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">rew_disjoint</span>; <span class="id" title="var">jauto_set</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "fmap_disjoint" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [ <span class="id" title="var">fmap_disjoint_pre</span> <span class="id" title="var">tt</span>; <span class="id" title="tactic">auto</span> ].<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_demo" class="idref" href="#disjoint_demo"><span class="id" title="lemma">disjoint_demo</span></a> : <span class="id" title="keyword">∀</span> <a id="A:255" class="idref" href="#A:255"><span class="id" title="binder">A</span></a> <a id="B:256" class="idref" href="#B:256"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:257" class="idref" href="#h<sub>1</sub>:257"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:258" class="idref" href="#h<sub>2</sub>:258"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:259" class="idref" href="#h<sub>3</sub>:259"><span class="id" title="binder">h<sub>3</sub></span></a> <a id="h<sub>4</sub>:260" class="idref" href="#h<sub>4</sub>:260"><span class="id" title="binder">h<sub>4</sub></span></a> <a id="h<sub>5</sub>:261" class="idref" href="#h<sub>5</sub>:261"><span class="id" title="binder">h<sub>5</sub></span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:255"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:256"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:257"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:258"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:259"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:258"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:259"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:257"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>:260"><span class="id" title="variable">h<sub>4</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:261"><span class="id" title="variable">h<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:259"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:258"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:261"><span class="id" title="variable">h<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>:260"><span class="id" title="variable">h<sub>4</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:261"><span class="id" title="variable">h<sub>5</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">dup</span> 2.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="var">rew_disjoint</span>. <span class="id" title="var">jauto_set</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">fmap_disjoint</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab600"></a><h2 class="section">Tactic <span class="inlinecode"><span class="id" title="var">rew_map</span></span> for Normalizing Expressions</h2>

</div>
<div class="code">

<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#union_empty_l"><span class="id" title="lemma">union_empty_l</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#union_empty_r"><span class="id" title="lemma">union_empty_r</span></a> : <span class="id" title="var">rew_fmap</span> <span class="id" title="var">rew_fmap_for_fmap_eq</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "rew_fmap" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">rew_fmap</span> <span class="id" title="keyword">in</span> *.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "rew_fmap" "~" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rew_fmap</span>; <span class="id" title="var">auto_tilde</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "rew_fmap" "*" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">rew_fmap</span>; <span class="id" title="var">auto_star</span>.<br/>
</div>

<div class="doc">
<a id="lab601"></a><h2 class="section">Tactic <span class="inlinecode"><span class="id" title="var">fmap_eq</span></span> for Proving Equalities</h2>

</div>
<div class="code">

<span class="id" title="keyword">Section</span> <a id="StateEq" class="idref" href="#StateEq"><span class="id" title="section">StateEq</span></a>.<br/>
<span class="id" title="keyword">Variables</span> (<a id="StateEq.A" class="idref" href="#StateEq.A"><span class="id" title="variable">A</span></a> <a id="StateEq.B" class="idref" href="#StateEq.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">h</span> : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#StateEq.A"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#StateEq.B"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">eq</span></span> proves equalities between unions of fmaps, of the form
    <span class="inlinecode"><span class="id" title="var">h<sub>1</sub></span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>2</sub></span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>3</sub></span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>4</sub></span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">h<sub>1</sub>'</span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>2</sub>'</span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>3</sub>'</span></span> <span class="inlinecode">\+</span> <span class="inlinecode"><span class="id" title="var">h<sub>4</sub>'</span></span>
    It attempts to discharge the disjointness side-conditions.
    Disclaimer: it cancels heaps at depth up to 4, but no more. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_1" class="idref" href="#union_eq_cancel_1"><span class="id" title="lemma">union_eq_cancel_1</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:264" class="idref" href="#h<sub>1</sub>:264"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:265" class="idref" href="#h<sub>2</sub>:265"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':266" class="idref" href="#h<sub>2</sub>':266"><span class="id" title="binder">h<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:265"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':266"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:264"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:265"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:264"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':266"><span class="id" title="variable">h<sub>2</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_1'" class="idref" href="#union_eq_cancel_1'"><span class="id" title="lemma">union_eq_cancel_1'</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:267" class="idref" href="#h<sub>1</sub>:267"><span class="id" title="binder">h<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:267"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:267"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_2" class="idref" href="#union_eq_cancel_2"><span class="id" title="lemma">union_eq_cancel_2</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:268" class="idref" href="#h<sub>1</sub>:268"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':269" class="idref" href="#h<sub>1</sub>':269"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:270" class="idref" href="#h<sub>2</sub>:270"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':271" class="idref" href="#h<sub>2</sub>':271"><span class="id" title="binder">h<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:268"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':269"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:270"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':269"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':271"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:268"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:270"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':269"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:268"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':271"><span class="id" title="variable">h<sub>2</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="LibSepFmap.html#union_comm_of_disjoint"><span class="id" title="lemma">union_comm_of_disjoint</span></a> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>1</sub>'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_2'" class="idref" href="#union_eq_cancel_2'"><span class="id" title="lemma">union_eq_cancel_2'</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:272" class="idref" href="#h<sub>1</sub>:272"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':273" class="idref" href="#h<sub>1</sub>':273"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:274" class="idref" href="#h<sub>2</sub>:274"><span class="id" title="binder">h<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:272"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':273"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:274"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':273"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:272"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:274"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':273"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:272"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#union_comm_of_disjoint"><span class="id" title="lemma">union_comm_of_disjoint</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_3" class="idref" href="#union_eq_cancel_3"><span class="id" title="lemma">union_eq_cancel_3</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:275" class="idref" href="#h<sub>1</sub>:275"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':276" class="idref" href="#h<sub>1</sub>':276"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:277" class="idref" href="#h<sub>2</sub>:277"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':278" class="idref" href="#h<sub>2</sub>':278"><span class="id" title="binder">h<sub>2</sub>'</span></a> <a id="h<sub>3</sub>':279" class="idref" href="#h<sub>3</sub>':279"><span class="id" title="binder">h<sub>3</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:275"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>':276"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':278"><span class="id" title="variable">h<sub>2</sub>'</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:277"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':276"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':278"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':279"><span class="id" title="variable">h<sub>3</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:275"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:277"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':276"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':278"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:275"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':279"><span class="id" title="variable">h<sub>3</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">h<sub>2</sub>'</span> <span class="id" title="var">h<sub>3</sub>'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">h<sub>2</sub>'</span> (<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <span class="id" title="var">h<sub>3</sub>'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#union_eq_cancel_2"><span class="id" title="lemma">union_eq_cancel_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_3'" class="idref" href="#union_eq_cancel_3'"><span class="id" title="lemma">union_eq_cancel_3'</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:280" class="idref" href="#h<sub>1</sub>:280"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':281" class="idref" href="#h<sub>1</sub>':281"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:282" class="idref" href="#h<sub>2</sub>:282"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':283" class="idref" href="#h<sub>2</sub>':283"><span class="id" title="binder">h<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:280"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>':281"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':283"><span class="id" title="variable">h<sub>2</sub>'</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:282"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':281"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':283"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:280"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:282"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':281"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':283"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:280"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">h<sub>2</sub>'</span> <span class="id" title="var">h<sub>1</sub></span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#union_eq_cancel_2'"><span class="id" title="lemma">union_eq_cancel_2'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_4" class="idref" href="#union_eq_cancel_4"><span class="id" title="lemma">union_eq_cancel_4</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:284" class="idref" href="#h<sub>1</sub>:284"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':285" class="idref" href="#h<sub>1</sub>':285"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:286" class="idref" href="#h<sub>2</sub>:286"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':287" class="idref" href="#h<sub>2</sub>':287"><span class="id" title="binder">h<sub>2</sub>'</span></a> <a id="h<sub>3</sub>':288" class="idref" href="#h<sub>3</sub>':288"><span class="id" title="binder">h<sub>3</sub>'</span></a> <a id="h<sub>4</sub>':289" class="idref" href="#h<sub>4</sub>':289"><span class="id" title="binder">h<sub>4</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:284"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>':285"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':287"><span class="id" title="variable">h<sub>2</sub>'</span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':288"><span class="id" title="variable">h<sub>3</sub>'</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:286"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':285"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':287"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':288"><span class="id" title="variable">h<sub>3</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>':289"><span class="id" title="variable">h<sub>4</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:284"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:286"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':285"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':287"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':288"><span class="id" title="variable">h<sub>3</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:284"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>':289"><span class="id" title="variable">h<sub>4</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">h<sub>2</sub>'</span> (<span class="id" title="var">h<sub>3</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <span class="id" title="var">h<sub>4</sub>'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">h<sub>2</sub>'</span> (<span class="id" title="var">h<sub>3</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <span class="id" title="var">h<sub>4</sub>'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#union_eq_cancel_3"><span class="id" title="lemma">union_eq_cancel_3</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="union_eq_cancel_4'" class="idref" href="#union_eq_cancel_4'"><span class="id" title="lemma">union_eq_cancel_4'</span></a> : <span class="id" title="keyword">∀</span> <a id="h<sub>1</sub>:290" class="idref" href="#h<sub>1</sub>:290"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>1</sub>':291" class="idref" href="#h<sub>1</sub>':291"><span class="id" title="binder">h<sub>1</sub>'</span></a> <a id="h<sub>2</sub>:292" class="idref" href="#h<sub>2</sub>:292"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>2</sub>':293" class="idref" href="#h<sub>2</sub>':293"><span class="id" title="binder">h<sub>2</sub>'</span></a> <a id="h<sub>3</sub>':294" class="idref" href="#h<sub>3</sub>':294"><span class="id" title="binder">h<sub>3</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:290"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>':291"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':293"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':294"><span class="id" title="variable">h<sub>3</sub>'</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>2</sub>:292"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':291"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':293"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':294"><span class="id" title="variable">h<sub>3</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:290"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:292"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>':291"><span class="id" title="variable">h<sub>1</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>':293"><span class="id" title="variable">h<sub>2</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>':294"><span class="id" title="variable">h<sub>3</sub>'</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:290"><span class="id" title="variable">h<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="LibSepFmap.html#union_assoc"><span class="id" title="lemma">union_assoc</span></a> <span class="id" title="var">h<sub>2</sub>'</span> <span class="id" title="var">h<sub>3</sub>'</span> <span class="id" title="var">h<sub>1</sub></span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬<a class="idref" href="LibSepFmap.html#union_eq_cancel_3'"><span class="id" title="lemma">union_eq_cancel_3'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#StateEq"><span class="id" title="section">StateEq</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fmap_eq_step</span> <span class="id" title="var">tt</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | &#x22A2; ?<span class="id" title="var">G</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="var">G</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub></span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_1'"><span class="id" title="lemma">union_eq_cancel_1'</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_1"><span class="id" title="lemma">union_eq_cancel_1</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_2'"><span class="id" title="lemma">union_eq_cancel_2'</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_2"><span class="id" title="lemma">union_eq_cancel_2</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_3'"><span class="id" title="lemma">union_eq_cancel_3'</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>3</sub>'</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_3"><span class="id" title="lemma">union_eq_cancel_3</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>3</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_4'"><span class="id" title="lemma">union_eq_cancel_4'</span></a><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">h<sub>1</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>2</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>3</sub>'</span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>1</sub></span> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> ?<span class="id" title="var">h<sub>4</sub>'</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="LibSepFmap.html#union_eq_cancel_4"><span class="id" title="lemma">union_eq_cancel_4</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "fmap_eq" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">rew_fmap_for_fmap_eq</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">fmap_eq_step</span> <span class="id" title="var">tt</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| &#x22A2; <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">fmap_disjoint</span><br/>
&nbsp;&nbsp;| &#x22A2; <a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">fmap_disjoint</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "fmap_eq" "~" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">fmap_eq</span>; <span class="id" title="var">auto_tilde</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Tactic Notation</span> "fmap_eq" "*" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">fmap_eq</span>; <span class="id" title="var">auto_star</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="fmap_eq_demo" class="idref" href="#fmap_eq_demo"><span class="id" title="lemma">fmap_eq_demo</span></a> : <span class="id" title="keyword">∀</span> <a id="A:295" class="idref" href="#A:295"><span class="id" title="binder">A</span></a> <a id="B:296" class="idref" href="#B:296"><span class="id" title="binder">B</span></a> (<a id="h<sub>1</sub>:297" class="idref" href="#h<sub>1</sub>:297"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:298" class="idref" href="#h<sub>2</sub>:298"><span class="id" title="binder">h<sub>2</sub></span></a> <a id="h<sub>3</sub>:299" class="idref" href="#h<sub>3</sub>:299"><span class="id" title="binder">h<sub>3</sub></span></a> <a id="h<sub>4</sub>:300" class="idref" href="#h<sub>4</sub>:300"><span class="id" title="binder">h<sub>4</sub></span></a> <a id="h<sub>5</sub>:301" class="idref" href="#h<sub>5</sub>:301"><span class="id" title="binder">h<sub>5</sub></span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="LibSepFmap.html#A:295"><span class="id" title="variable">A</span></a> <a class="idref" href="LibSepFmap.html#B:296"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:297"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:298"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:299"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#h<sub>1</sub>:297"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:298"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:299"><span class="id" title="variable">h<sub>3</sub></span></a><a class="idref" href="LibSepFmap.html#3e33a9200864b8721de8c442dd0d9d<sub>81</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>:300"><span class="id" title="variable">h<sub>4</sub></span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:301"><span class="id" title="variable">h<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>1</sub>:297"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:298"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:299"><span class="id" title="variable">h<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#h<sub>4</sub>:300"><span class="id" title="variable">h<sub>4</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>1</sub>:297"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:301"><span class="id" title="variable">h<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#h<sub>2</sub>:298"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>5</sub>:301"><span class="id" title="variable">h<sub>5</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>4</sub>:300"><span class="id" title="variable">h<sub>4</sub></span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#h<sub>3</sub>:299"><span class="id" title="variable">h<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">dup</span> 2.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="var">rew_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fmap_eq_step</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>. <span class="id" title="var">fmap_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fmap_eq_step</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fmap_eq_step</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>. <span class="id" title="var">fmap_disjoint</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">fmap_eq</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab602"></a><h1 class="section">Existence of Fresh Locations</h1>

</div>

<div class="doc">
<a id="lab603"></a><h2 class="section">Consecutive Locations</h2>

<div class="paragraph"> </div>

 The notion of "consecutive locations" is useful for reasoning about
    records and arrays. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="conseq" class="idref" href="#conseq"><span class="id" title="definition">conseq</span></a> (<a id="B:302" class="idref" href="#B:302"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>) (<a id="vs:303" class="idref" href="#vs:303"><span class="id" title="binder">vs</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LibSepFmap.html#B:302"><span class="id" title="variable">B</span></a>) (<a id="l:304" class="idref" href="#l:304"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#B:302"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="LibSepFmap.html#vs:303"><span class="id" title="variable">vs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">v</span><span class="id" title="notation">::</span><span class="id" title="var">vs'</span> ⇒ <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:304"><span class="id" title="variable">l</span></a> <span class="id" title="var">v</span><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#conseq:305"><span class="id" title="definition">conseq</span></a> <span class="id" title="var">vs'</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LibSepFmap.html#l:304"><span class="id" title="variable">l</span></a>)<a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="conseq_nil" class="idref" href="#conseq_nil"><span class="id" title="lemma">conseq_nil</span></a> : <span class="id" title="keyword">∀</span> <a id="B:307" class="idref" href="#B:307"><span class="id" title="binder">B</span></a> (<a id="l:308" class="idref" href="#l:308"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> (@<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="LibSepFmap.html#B:307"><span class="id" title="variable">B</span></a>) <a class="idref" href="LibSepFmap.html#l:308"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="conseq_cons" class="idref" href="#conseq_cons"><span class="id" title="lemma">conseq_cons</span></a> : <span class="id" title="keyword">∀</span> <a id="B:309" class="idref" href="#B:309"><span class="id" title="binder">B</span></a> (<a id="l:310" class="idref" href="#l:310"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:311" class="idref" href="#v:311"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepFmap.html#B:309"><span class="id" title="variable">B</span></a>) (<a id="vs:312" class="idref" href="#vs:312"><span class="id" title="binder">vs</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LibSepFmap.html#B:309"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> (<a class="idref" href="LibSepFmap.html#v:311"><span class="id" title="variable">v</span></a><span class="id" title="notation">::</span><a class="idref" href="LibSepFmap.html#vs:312"><span class="id" title="variable">vs</span></a>) <a class="idref" href="LibSepFmap.html#l:310"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:310"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v:311"><span class="id" title="variable">v</span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> <a class="idref" href="LibSepFmap.html#vs:312"><span class="id" title="variable">vs</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="LibSepFmap.html#l:310"><span class="id" title="variable">l</span></a>)<a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="conseq_cons'" class="idref" href="#conseq_cons'"><span class="id" title="lemma">conseq_cons'</span></a> : <span class="id" title="keyword">∀</span> <a id="B:313" class="idref" href="#B:313"><span class="id" title="binder">B</span></a> (<a id="l:314" class="idref" href="#l:314"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="v:315" class="idref" href="#v:315"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepFmap.html#B:313"><span class="id" title="variable">B</span></a>) (<a id="vs:316" class="idref" href="#vs:316"><span class="id" title="binder">vs</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="LibSepFmap.html#B:313"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> (<a class="idref" href="LibSepFmap.html#v:315"><span class="id" title="variable">v</span></a><span class="id" title="notation">::</span><a class="idref" href="LibSepFmap.html#vs:316"><span class="id" title="variable">vs</span></a>) <a class="idref" href="LibSepFmap.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v:315"><span class="id" title="variable">v</span></a><a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">\+</span></a> <a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> <a class="idref" href="LibSepFmap.html#vs:316"><span class="id" title="variable">vs</span></a> (<a class="idref" href="LibSepFmap.html#l:314"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<a class="idref" href="LibSepFmap.html#56e77046959d53f4c7feac55396eb3b<sub>1</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">math_rewrite</span> (<span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">l</span>)%<span class="id" title="var">nat</span>. <span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#conseq_cons"><span class="id" title="lemma">conseq_cons</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="LibSepFmap.html#conseq_nil"><span class="id" title="lemma">conseq_nil</span></a> <a class="idref" href="LibSepFmap.html#conseq_cons"><span class="id" title="lemma">conseq_cons</span></a> : <span class="id" title="var">rew_listx</span>.<br/>
</div>

<div class="doc">
<a id="lab604"></a><h2 class="section">Existence of Fresh Locations</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="loc_fresh_gen" class="idref" href="#loc_fresh_gen"><span class="id" title="definition">loc_fresh_gen</span></a> (<a id="L:317" class="idref" href="#L:317"><span class="id" title="binder">L</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;(1 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="definition">fold_right</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#plus"><span class="id" title="abbreviation">plus</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="LibSepFmap.html#L:317"><span class="id" title="variable">L</span></a>)%<span class="id" title="var">nat</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="loc_fresh_ind" class="idref" href="#loc_fresh_ind"><span class="id" title="lemma">loc_fresh_ind</span></a> : <span class="id" title="keyword">∀</span> <a id="l:318" class="idref" href="#l:318"><span class="id" title="binder">l</span></a> <a id="L:319" class="idref" href="#L:319"><span class="id" title="binder">L</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="inductive">mem</span> <a class="idref" href="LibSepFmap.html#l:318"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#L:319"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="LibSepFmap.html#l:318"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LibSepFmap.html#loc_fresh_gen"><span class="id" title="definition">loc_fresh_gen</span></a> <a class="idref" href="LibSepFmap.html#L:319"><span class="id" title="variable">L</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#loc_fresh_gen"><span class="id" title="definition">loc_fresh_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">L</span>; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>; <span class="id" title="var">inverts</span> <span class="id" title="var">M</span>; <span class="id" title="var">rew_listx</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">math</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">forwards</span>~: <span class="id" title="var">IHL</span>. <span class="id" title="var">math</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="loc_fresh_nat_ge" class="idref" href="#loc_fresh_nat_ge"><span class="id" title="lemma">loc_fresh_nat_ge</span></a> : <span class="id" title="keyword">∀</span> (<a id="L:320" class="idref" href="#L:320"><span class="id" title="binder">L</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="l:321" class="idref" href="#l:321"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <span class="id" title="keyword">∀</span> (<a id="i:322" class="idref" href="#i:322"><span class="id" title="binder">i</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="inductive">mem</span> (<a class="idref" href="LibSepFmap.html#l:321"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="LibSepFmap.html#i:322"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="LibSepFmap.html#L:320"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="LibSepFmap.html#loc_fresh_gen"><span class="id" title="definition">loc_fresh_gen</span></a> <span class="id" title="var">L</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="LibSepFmap.html#loc_fresh_ind"><span class="id" title="lemma">loc_fresh_ind</span></a> <span class="id" title="var">M</span>. <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
For any finite list of locations (implemented as <span class="inlinecode"><span class="id" title="var">nat</span></span>), there exists
    one location not in that list. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="loc_fresh_nat" class="idref" href="#loc_fresh_nat"><span class="id" title="lemma">loc_fresh_nat</span></a> : <span class="id" title="keyword">∀</span> (<a id="L:323" class="idref" href="#L:323"><span class="id" title="binder">L</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="l:324" class="idref" href="#l:324"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="inductive">mem</span> <a class="idref" href="LibSepFmap.html#l:324"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#L:323"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">L</span>. <span class="id" title="var">forwards</span> (<span class="id" title="var">l</span>&amp;<span class="id" title="var">P</span>): <a class="idref" href="LibSepFmap.html#loc_fresh_nat_ge"><span class="id" title="lemma">loc_fresh_nat_ge</span></a> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">M</span>. <span class="id" title="var">applys</span> (<span class="id" title="var">P</span> 0%<span class="id" title="var">nat</span>). <span class="id" title="var">applys_eq</span> <span class="id" title="var">M</span>. <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Section</span> <a id="FmapFresh" class="idref" href="#FmapFresh"><span class="id" title="section">FmapFresh</span></a>.<br/>
<span class="id" title="keyword">Variables</span> (<a id="FmapFresh.B" class="idref" href="#FmapFresh.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">h</span> : <a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>.<br/>
</div>

<div class="doc">
For any heap, there exists one (non-null) location not already in the
    domain of that heap. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="exists_fresh" class="idref" href="#exists_fresh"><span class="id" title="lemma">exists_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="null:326" class="idref" href="#null:326"><span class="id" title="binder">null</span></a> <a id="h:327" class="idref" href="#h:327"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l:328" class="idref" href="#l:328"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h:327"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#l:328"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#l:328"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#null:326"><span class="id" title="variable">null</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">null</span> (<span class="id" title="var">m</span>&amp;(<span class="id" title="var">L</span>&amp;<span class="id" title="var">M</span>)). <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a>, <a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> (<span class="id" title="var">l</span>&amp;<span class="id" title="var">F</span>): (<a class="idref" href="LibSepFmap.html#loc_fresh_nat"><span class="id" title="lemma">loc_fresh_nat</span></a> (<span class="id" title="var">null</span><span class="id" title="notation">::</span><span class="id" title="var">L</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span>. <span class="id" title="var">forwards</span>¬<span class="id" title="var">E</span>: <span class="id" title="var">M</span> <span class="id" title="var">l</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">intro_subst</span>. <span class="id" title="var">applys</span>¬<span class="id" title="var">F</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
For any heap <span class="inlinecode"><span class="id" title="var">h</span></span>, there exists one (non-null) location <span class="inlinecode"><span class="id" title="var">l</span></span> such that
    the singleton map that binds <span class="inlinecode"><span class="id" title="var">l</span></span> to a value <span class="inlinecode"><span class="id" title="var">v</span></span> is disjoint from <span class="inlinecode"><span class="id" title="var">h</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="single_fresh" class="idref" href="#single_fresh"><span class="id" title="lemma">single_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="null:329" class="idref" href="#null:329"><span class="id" title="binder">null</span></a> <a id="h:330" class="idref" href="#h:330"><span class="id" title="binder">h</span></a> <a id="v:331" class="idref" href="#v:331"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l:332" class="idref" href="#l:332"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:332"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v:331"><span class="id" title="variable">v</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h:330"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#l:332"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#null:329"><span class="id" title="variable">null</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">forwards</span> (<span class="id" title="var">l</span>&amp;<span class="id" title="var">F</span>&amp;<span class="id" title="var">N</span>): <a class="idref" href="LibSepFmap.html#exists_fresh"><span class="id" title="lemma">exists_fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>¬. <span class="id" title="var">applys</span>* <a class="idref" href="LibSepFmap.html#disjoint_single_of_not_indom"><span class="id" title="lemma">disjoint_single_of_not_indom</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="conseq_fresh" class="idref" href="#conseq_fresh"><span class="id" title="lemma">conseq_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="null:333" class="idref" href="#null:333"><span class="id" title="binder">null</span></a> <a id="h:334" class="idref" href="#h:334"><span class="id" title="binder">h</span></a> <a id="vs:335" class="idref" href="#vs:335"><span class="id" title="binder">vs</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l:336" class="idref" href="#l:336"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> <a class="idref" href="LibSepFmap.html#vs:335"><span class="id" title="variable">vs</span></a> <a class="idref" href="LibSepFmap.html#l:336"><span class="id" title="variable">l</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#h:334"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#l:336"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#null:333"><span class="id" title="variable">null</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">null</span> (<span class="id" title="var">m</span>&amp;(<span class="id" title="var">L</span>&amp;<span class="id" title="var">M</span>)) <span class="id" title="var">vs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#disjoint"><span class="id" title="definition">disjoint</span></a>, <a class="idref" href="LibSepFmap.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> (<span class="id" title="var">l</span>&amp;<span class="id" title="var">F</span>): (<a class="idref" href="LibSepFmap.html#loc_fresh_nat_ge"><span class="id" title="lemma">loc_fresh_nat_ge</span></a> (<span class="id" title="var">null</span><span class="id" title="notation">::</span><span class="id" title="var">L</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span>. <span class="id" title="var">gen</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">v</span> <span class="id" title="var">vs'</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simple</span>¬. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#conseq_cons"><span class="id" title="lemma">conseq_cons</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHvs'</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">l</span>)%<span class="id" title="var">nat</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span>|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">N</span>. <span class="id" title="var">applys</span> <span class="id" title="var">F</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>). <span class="id" title="var">applys_eq</span> <span class="id" title="var">N</span>. <span class="id" title="var">math</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="LibSepFmap.html#map_union"><span class="id" title="definition">map_union</span></a>. <span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">applys</span> <span class="id" title="lemma">not_not_inv</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="var">applys</span> <span class="id" title="var">F</span> 0%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">math_rewrite</span> (<span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>0 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l'</span>)%<span class="id" title="var">nat</span>. <span class="id" title="var">applys</span>¬<span class="id" title="var">M</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. } } }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">intro_subst</span>. <span class="id" title="var">applys</span>¬<span class="id" title="var">F</span> 0%<span class="id" title="var">nat</span>. <span class="id" title="var">rew_nat</span>. <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_single_conseq" class="idref" href="#disjoint_single_conseq"><span class="id" title="lemma">disjoint_single_conseq</span></a> : <span class="id" title="keyword">∀</span> <a id="B:337" class="idref" href="#B:337"><span class="id" title="binder">B</span></a> <a id="l:338" class="idref" href="#l:338"><span class="id" title="binder">l</span></a> <a id="l':339" class="idref" href="#l':339"><span class="id" title="binder">l'</span></a> <a id="L:340" class="idref" href="#L:340"><span class="id" title="binder">L</span></a> (<a id="v:341" class="idref" href="#v:341"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepFmap.html#B:337"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;(<a class="idref" href="LibSepFmap.html#l:338"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="LibSepFmap.html#l':339"><span class="id" title="variable">l'</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> (<a class="idref" href="LibSepFmap.html#l:338"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="LibSepFmap.html#l':339"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="definition">length</span> <a class="idref" href="LibSepFmap.html#L:340"><span class="id" title="variable">L</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">\#</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <a class="idref" href="LibSepFmap.html#l:338"><span class="id" title="variable">l</span></a> <a class="idref" href="LibSepFmap.html#v:341"><span class="id" title="variable">v</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">(</span></a><a class="idref" href="LibSepFmap.html#conseq"><span class="id" title="definition">conseq</span></a> <a class="idref" href="LibSepFmap.html#L:340"><span class="id" title="variable">L</span></a> <a class="idref" href="LibSepFmap.html#l':339"><span class="id" title="variable">l'</span></a><a class="idref" href="LibSepFmap.html#0bbe997a7c7c5a530609d9c93466d8ab"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">N</span>. <span class="id" title="var">gen</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">L</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">L'</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span>¬<a class="idref" href="LibSepFmap.html#conseq_nil"><span class="id" title="lemma">conseq_nil</span></a>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">rew_list</span> <span class="id" title="keyword">in</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="LibSepFmap.html#conseq_cons"><span class="id" title="lemma">conseq_cons</span></a>. <span class="id" title="var">rew_disjoint</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#disjoint_single_single"><span class="id" title="lemma">disjoint_single_single</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; <span class="id" title="var">math</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">applys</span> <span class="id" title="var">IHL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>. { <span class="id" title="tactic">left</span>. <span class="id" title="var">math</span>. } { <span class="id" title="tactic">right</span>. <span class="id" title="var">math</span>. } } }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab605"></a><h2 class="section">Existence of a Smallest Fresh Locations</h2>

<div class="paragraph"> </div>

 The notion of smallest fresh location is useful for setting up
    deterministic semantics. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="fresh" class="idref" href="#fresh"><span class="id" title="definition">fresh</span></a> (<a id="null:342" class="idref" href="#null:342"><span class="id" title="binder">null</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="h:343" class="idref" href="#h:343"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>) (<a id="l:344" class="idref" href="#l:344"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <a class="idref" href="LibSepFmap.html#h:343"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#l:344"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="LibSepFmap.html#l:344"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#null:342"><span class="id" title="variable">null</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="smallest_fresh" class="idref" href="#smallest_fresh"><span class="id" title="definition">smallest_fresh</span></a> (<a id="null:345" class="idref" href="#null:345"><span class="id" title="binder">null</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="h:346" class="idref" href="#h:346"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>) (<a id="l:347" class="idref" href="#l:347"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <a class="idref" href="LibSepFmap.html#null:345"><span class="id" title="variable">null</span></a> <a class="idref" href="LibSepFmap.html#h:346"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="l':348" class="idref" href="#l':348"><span class="id" title="binder">l'</span></a>, <a class="idref" href="LibSepFmap.html#l':348"><span class="id" title="variable">l'</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="LibSepFmap.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <a class="idref" href="LibSepFmap.html#null:345"><span class="id" title="variable">null</span></a> <a class="idref" href="LibSepFmap.html#h:346"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#l':348"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="exists_smallest_fresh" class="idref" href="#exists_smallest_fresh"><span class="id" title="lemma">exists_smallest_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="null:349" class="idref" href="#null:349"><span class="id" title="binder">null</span></a> <a id="h:350" class="idref" href="#h:350"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l:351" class="idref" href="#l:351"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="LibSepFmap.html#smallest_fresh"><span class="id" title="definition">smallest_fresh</span></a> <a class="idref" href="LibSepFmap.html#null:349"><span class="id" title="variable">null</span></a> <a class="idref" href="LibSepFmap.html#h:350"><span class="id" title="variable">h</span></a> <a class="idref" href="LibSepFmap.html#l:351"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cuts</span> <span class="id" title="var">M</span>: (<span class="id" title="keyword">∀</span> <a id="l<sub>0</sub>:355" class="idref" href="#l<sub>0</sub>:355"><span class="id" title="binder">l<sub>0</sub></span></a>, <a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span> <a class="idref" href="LibSepFmap.html#l<sub>0</sub>:352"><span class="id" title="variable">l<sub>0</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="l:356" class="idref" href="#l:356"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span> <a class="idref" href="LibSepFmap.html#l:353"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="l':357" class="idref" href="#l':357"><span class="id" title="binder">l'</span></a>, <a class="idref" href="LibSepFmap.html#l':354"><span class="id" title="variable">l'</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="LibSepFmap.html#l:353"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span> <a class="idref" href="LibSepFmap.html#l':354"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">lets</span> (<span class="id" title="var">l<sub>0</sub></span>&amp;<span class="id" title="var">F</span>&amp;<span class="id" title="var">N</span>): <a class="idref" href="LibSepFmap.html#exists_fresh"><span class="id" title="lemma">exists_fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span>. <span class="id" title="var">applys</span> <span class="id" title="var">M</span> <span class="id" title="var">l<sub>0</sub></span>. <span class="id" title="tactic">split</span>*. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l<sub>0</sub></span>. <span class="id" title="var">induction_wf</span> <span class="id" title="var">IH</span>: <span class="id" title="lemma">wf_lt</span> <span class="id" title="var">l<sub>0</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">tests</span> <span class="id" title="var">C</span>: (<span class="id" title="keyword">∀</span> <a id="l':359" class="idref" href="#l':359"><span class="id" title="binder">l'</span></a>, <a class="idref" href="LibSepFmap.html#l':358"><span class="id" title="variable">l'</span></a> <span class="id" title="notation">&lt;</span> <span class="id" title="var">l<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="var">null</span> <span class="id" title="var">h</span> <a class="idref" href="LibSepFmap.html#l':358"><span class="id" title="variable">l'</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">∃</span>* <span class="id" title="var">l<sub>0</sub></span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">C</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l<sub>0</sub>'</span>&amp;<span class="id" title="var">K</span>). <span class="id" title="var">rew_logic</span> <span class="id" title="keyword">in</span> <span class="id" title="var">K</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">K</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">L</span>&amp;<span class="id" title="var">F'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">applys</span>* <span class="id" title="var">IH</span> <span class="id" title="var">l<sub>0</sub>'</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab606"></a><h2 class="section">Existence of Nonempty Heaps</h2>

<div class="paragraph"> </div>

 The existence of nonempty (nat-indexed) finite maps is useful
    for constructing counterexamples. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="exists_not_empty" class="idref" href="#exists_not_empty"><span class="id" title="lemma">exists_not_empty</span></a> : <span class="id" title="keyword">∀</span> `{<a id="IB:360" class="idref" href="#IB:360"><span class="id" title="binder">IB</span></a>:<span class="id" title="class">Inhab</span> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="h:361" class="idref" href="#h:361"><span class="id" title="binder">h</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepFmap.html#h:361"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">sets</span> <span class="id" title="var">l</span>: 0%<span class="id" title="var">nat</span>. <span class="id" title="var">sets</span> <span class="id" title="var">h</span>: (<a class="idref" href="LibSepFmap.html#single"><span class="id" title="definition">single</span></a> <span class="id" title="var">l</span> (<span class="id" title="definition">arbitrary</span> (<span class="id" title="var">A</span>:=<a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sets</span> <span class="id" title="var">h'</span>: (<a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>:<a class="idref" href="LibSepFmap.html#fmap"><span class="id" title="record">fmap</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="LibSepFmap.html#FmapFresh.B"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">asserts</span> <span class="id" title="var">M<sub>1</sub></span>: (<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <span class="id" title="var">h</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">applys</span> <a class="idref" href="LibSepFmap.html#indom_single"><span class="id" title="lemma">indom_single</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">asserts</span> <span class="id" title="var">M<sub>2</sub></span>: (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a> <span class="id" title="var">h'</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">unfolds</span> @<a class="idref" href="LibSepFmap.html#indom"><span class="id" title="definition">indom</span></a>, <a class="idref" href="LibSepFmap.html#map_indom"><span class="id" title="definition">map_indom</span></a>, @<a class="idref" href="LibSepFmap.html#empty"><span class="id" title="definition">empty</span></a>. <span class="id" title="var">simpls</span>. <span class="id" title="var">auto_false</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">N</span> <span class="id" title="keyword">in</span> <span class="id" title="var">M<sub>1</sub></span>. <span class="id" title="var">false</span>*.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="LibSepFmap.html#FmapFresh"><span class="id" title="section">FmapFresh</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;2021-05-24&nbsp;18:43&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>